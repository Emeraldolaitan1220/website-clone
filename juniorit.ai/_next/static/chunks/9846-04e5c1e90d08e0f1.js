"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9846],{4469:function(e,t,r){var a=r(85893),n=r(67294),o=r(16929);r(59962);var l=r(69380),s=r(10338),c=r(79857),i=r(9689),d=r.n(i);let u=e=>{let t=(0,n.useRef)(!1),r=(0,n.useRef)(null),i=e.content;i=i.replace(/\\```/g,"```");let u=(0,l.l)().use(s.Z).parse(i),m={};try{e.meta&&(m=d().parse(e.meta))}catch(p){console.error(p.message)}return(0,n.useEffect)(()=>{let e,t,a=!1,n=r=>{var n,o;a=!0,e=r.pageX-(null!==(n=null==c?void 0:c.offsetLeft)&&void 0!==n?n:0),t=null!==(o=null==c?void 0:c.scrollLeft)&&void 0!==o?o:0},o=()=>{a=!1},l=()=>{a=!1},s=r=>{var n;if(!a)return;r.preventDefault();let o=r.pageX-(null!==(n=null==c?void 0:c.offsetLeft)&&void 0!==n?n:0);c&&(c.scrollLeft=t-(o-e)*3)};if(!r.current)return;let c=r.current.querySelector(".react-tabs ul");return c&&(c.addEventListener("mousedown",n),c.addEventListener("mouseleave",o),c.addEventListener("mouseup",l),c.addEventListener("mousemove",s)),()=>{c&&(c.removeEventListener("mousedown",n),c.removeEventListener("mouseleave",o),c.removeEventListener("mouseup",l),c.removeEventListener("mousemove",s))}},[]),(0,n.useEffect)(()=>{e.callback&&!t.current&&(t.current=!0,e.callback(e.index,1))},[]),(0,a.jsx)("div",{ref:r,children:(0,a.jsxs)(o.mQ,{children:[(0,a.jsx)(o.td,{className:"whitespace-nowrap overflow-scroll md:whitespace-normal md:overflow-visible border-b border-gray-500",children:u.children.map((e,t)=>{let r={};try{e.meta&&(r=d().parse(e.meta))}catch(n){console.error(n.message)}"jsx"==e.lang&&(e.lang="react"),e.lang||(e.lang="any");let l=e.lang.charAt(0).toUpperCase()+e.lang.slice(1);return r.title&&(l=r.title),"Php"==l&&(l="PHP"),"Go"==l&&(l="Golang"),(0,a.jsx)(o.OK,{children:l},t)})}),u.children.map((e,t)=>{var r;"jsx"==e.lang&&(e.lang="react");let n={};try{e.meta&&(n=d().parse(e.meta))}catch(l){console.error(l.message)}return m.rawCode&&(n.rawCode=!0),m.minHeight&&(n.minHeight=m.minHeight),m.maxHeight&&(n.maxHeight=m.maxHeight),(0,a.jsx)(o.x4,{children:(0,a.jsx)(c.Z,{codes:e.value,lang:null!==(r=e.lang)&&void 0!==r?r:"any",meta:JSON.stringify(n)},t)},t)})]})})};t.Z=(0,n.memo)(u)},63069:function(e,t,r){r.d(t,{Z:function(){return ec}});var a=r(85893),n=r(67294),o=r(69380),l=r(10338),s=r(29947),c=r(50610),i=r(6143),d=r(7297),u=r(51857),m=r.n(u),p=r(57219),f=r(78120),g=r(47421),h=r(45383),b=r(28088),x=r(12386),v=r(44732),k=r(48825),y=r(44778),w=r(59119),j=r(34790),C=r(67917),S=r(66062),J=r(49892),N=r(85444),O=r(6154),F=r(7361),I=r(90629),E=r(66986),L=r(35524),B=r(30702),Z=r(9689),D=r.n(Z),R=r(91505),P=r(9473),A=r(85359),T=r(14879);function z(){let e=(0,d.Z)(["\nfont-family:system-ui;font-size:14px; margin: 10px 0;\n"]);return z=function(){return e},e}function M(){let e=(0,d.Z)(["\ncolor: black;\nmargin-top: 0px !important;\nborder: 1px solid #cccccc55 !important;\nbackground-color: white !important;\nwhite-space: pre-wrap !important;\n"]);return M=function(){return e},e}function H(){let e=(0,d.Z)(["\n  mutation($lang: String, $meta: String, $source: String){\n    executeCodes(lang: $lang, meta: $meta, source: $source) {\n      codes {\n        lang\n        meta\n        source\n      }\n      status\n      result\n    }\n  }\n"]);return H=function(){return e},e}let $={name:"dracula",dark:!0,background:"#282A36",foreground:"#F8F8F2",selection:"#ef4146",selectionMatch:"#ef414644",cursor:"#F8F8F2",dropdownBackground:"#282A36",dropdownBorder:"#191A21",activeLine:"#44475A00",matchingBracket:"#ef4146",keyword:"#FF79C6",storage:"#FF79C6",variable:"#F8F8F2",parameter:"#F8F8F2",function:"#50FA7B",string:"#F1FA8C",constant:"#BD93F9",type:"#8BE9FD",class:"#8BE9FD",number:"#BD93F9",comment:"#909cc3",heading:"#BD93F9",invalid:"#FF5555",regexp:"#F1FA8C"},_=g.tk.theme({"&":{color:$.foreground,backgroundColor:$.background},".cm-content":{caretColor:$.cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:$.cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:$.selection+" !important"},".cm-panels":{backgroundColor:$.dropdownBackground,color:$.foreground},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:$.dropdownBackground,outline:"1px solid ".concat($.dropdownBorder)},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:$.selectionMatch},".cm-activeLine":{backgroundColor:$.activeLine,border:"1px dotted #44475A"},".cm-selectionMatch":{backgroundColor:$.selectionMatch},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:$.matchingBracket,outline:"none"},".cm-gutters":{backgroundColor:$.background,color:$.foreground,border:"none"},".cm-activeLineGutter":{backgroundColor:$.background},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:$.foreground},".cm-tooltip":{border:"1px solid ".concat($.dropdownBorder),backgroundColor:$.dropdownBackground,color:$.foreground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:$.foreground,borderBottomColor:$.foreground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:$.selection,color:$.foreground}}},{dark:$.dark}),q=w.Qf.define([{tag:L.pJ.keyword,color:$.keyword},{tag:[L.pJ.name,L.pJ.deleted,L.pJ.character,L.pJ.macroName],color:$.variable},{tag:[L.pJ.propertyName],color:$.function},{tag:[L.pJ.processingInstruction,L.pJ.string,L.pJ.inserted,L.pJ.special(L.pJ.string)],color:$.string},{tag:[L.pJ.function(L.pJ.variableName),L.pJ.labelName],color:$.function},{tag:[L.pJ.color,L.pJ.constant(L.pJ.name),L.pJ.standard(L.pJ.name)],color:$.constant},{tag:[L.pJ.definition(L.pJ.name),L.pJ.separator],color:$.variable},{tag:[L.pJ.className],color:$.class},{tag:[L.pJ.number,L.pJ.changed,L.pJ.annotation,L.pJ.modifier,L.pJ.self,L.pJ.namespace],color:$.number},{tag:[L.pJ.typeName],color:$.type,fontStyle:$.type},{tag:[L.pJ.operator,L.pJ.operatorKeyword],color:$.keyword},{tag:[L.pJ.url,L.pJ.escape,L.pJ.regexp,L.pJ.link],color:$.regexp},{tag:[L.pJ.meta,L.pJ.comment],color:$.comment},{tag:L.pJ.strong,fontWeight:"bold"},{tag:L.pJ.emphasis,fontStyle:"italic"},{tag:L.pJ.link,textDecoration:"underline"},{tag:L.pJ.heading,fontWeight:"bold",color:$.heading},{tag:[L.pJ.atom,L.pJ.bool,L.pJ.special(L.pJ.variableName)],color:$.variable},{tag:L.pJ.invalid,color:$.invalid},{tag:L.pJ.strikethrough,textDecoration:"line-through"}]),W=[_,(0,w.nF)(q)],Q=N.ZP.div(z()),Y=N.ZP.pre(M()),G=[{src:"https://juniorit.ai/img/ai-no-sel-1.png",width:512,height:512,seed:null},{src:"https://juniorit.ai/img/ai-no-sel-2.png",width:512,height:512,seed:null},{src:"https://juniorit.ai/img/ai-no-sel-3.png",width:512,height:512,seed:null},{src:"https://juniorit.ai/img/ai-no-sel-4.png",width:512,height:512,seed:null}],V=e=>{let t=(0,P.v9)(e=>e.user.user),r=(0,P.v9)(e=>e.apiServerToken.apiServerToken),o=(0,n.useRef)(null),l=(0,n.useRef)(null),s=(0,n.useRef)(null),[c,i]=(0,n.useState)(null),[d,u]=(0,n.useState)(""),[N,L]=(0,n.useState)(""),[Z,z]=(0,n.useState)(!1),[M,$]=(0,n.useState)(!0),_=(0,n.useRef)(!1),[q,V]=(0,n.useState)(G),{t:X}=(0,B.$G)("common"),K={};try{K=D().parse(e.meta)}catch(U){I.Z.error(U.message)}K.api||(K.api=null);let ee=null,et=!0,er=new T.Xo,ea=[p.Xy,g.tk.lineWrapping,(0,g.HQ)(),(0,g.HQ)(),(0,g.AE)(),(0,h.m8)(),(0,w.mi)(),(0,g.qr)(),(0,w.nY)(),(0,w.nF)(w.R_,{fallback:!0}),(0,w.n$)(),(0,j.vQ)(),(0,j.ys)(),(0,g.Zs)(),(0,g.S2)(),(0,J.sW)(),f.yy.allowMultipleSelections.of(!1),g.$f.of([h.oc]),g.tk.updateListener.of(t=>{t.docChanged&&e.onDocChanged&&er.onHandle(()=>{var r;null===(r=e.onDocChanged)||void 0===r||r.call(null,t.state.doc.toString())},350)})];switch(e.lang){case"javascript":case"typescript":case"java":case"dart":ea.push((0,g.Eu)()),ea.push((0,y.C)());break;case"python":ea.push((0,g.Eu)()),ea.push((0,b.Vs)());break;case"markdown":ea.push((0,k.JH)());break;case"php":ea.push((0,g.Eu)()),ea.push((0,x.h)({plain:!0}));break;case"kotlin":ea=[...ea,(0,g.Eu)(),w.il.define(C.j7)];break;case"swift":ea=[...ea,(0,g.Eu)(),w.il.define(S.v)];break;case"json":ea.push((0,g.Eu)()),ea.push((0,v.AV)());break;default:ea.push((0,g.Eu)()),ea.push((0,y.C)()),et=!1}e.noActions&&(et=!1),"code"==K.api&&(et=!0),ea.push(W),(e.readOnly||K.readOnly)&&ea.push(g.tk.editable.of(!1));let en=f.yy.create({doc:e.codes,extensions:ea}),eo=(0,n.useRef)(null);(0,n.useEffect)(()=>{if("flutter"==e.lang||"react"==e.lang){if(null==s.current||_.current)return;_.current=!0;let t=document.getElementById("dartpadLoader"),r=0;return location.href.indexOf("embedded-vscode-extension")>0&&location.href.indexOf("version=")>0&&(r=1),s.current.innerHTML='<pre>\n      <code class="language-run-dartpad:theme-dark:mode-flutter:null_safety-true:split-60:width-100%:height-620px:id-iframe_0:vscode-'.concat(r,'">\n      <!--#!#').concat(e.codes,"#!#-->\n      </code>\n      </pre>"),t&&t.parentNode&&t.parentNode.removeChild(t),(t=document.createElement("script")).src="/code-pad/inject_embed.dart.js",t.id="dartpadLoader",t.async=!0,document.body.appendChild(t),()=>{}}if(null!=o.current)return"image"==K.api&&u("images"),eo.current=new g.tk({state:en,parent:o.current}),i(eo.current),()=>{null==eo||eo.current.destroy()}},[e.lang]),(0,n.useEffect)(()=>{if(null==c)return;let t=null==c?void 0:c.state.update({changes:{from:0,to:null==c?void 0:c.state.doc.length,insert:e.codes}});null==c||c.dispatch(t||{changes:{from:0,insert:"0"}})},[e.codes]);let el=(0,F.P)(H()),es=async()=>{var a,n,o,s,c,i,d,m,p;if(!((null==eo?void 0:eo.current.state.doc.toString().trim().length)<2)){if("json"==e.lang)try{JSON.parse(null==eo?void 0:eo.current.state.doc.toString())}catch(f){u(JSON.stringify(f.message)),"image"==K.api&&L(JSON.stringify(f.message));return}if(l.current&&!l.current.classList.contains("hidden"))return;null===(a=l.current)||void 0===a||a.classList.remove("hidden"),L(""),K.api||u("");try{let g;if("chat"==K.api||"code"==K.api){let h=window.pageXOffset,b=window.pageYOffset,x=!1,v="",k=e.lang,y=null==eo?void 0:eo.current.state.doc.toString();if("code"==K.api){k="";let w=y.toLowerCase();if(w.indexOf("dart lang")>-1?k="dart":w.indexOf("kotlin lang")>-1?k="kotlin":w.indexOf("swift lang")>-1?k="swift":w.indexOf("java lang")>-1?k="java":w.indexOf("python lang")>-1?k="python":w.indexOf("php lang")>-1?k="php":w.indexOf("javascript lang")>-1?k="javascript":w.indexOf("typescript lang")>-1?k="typescript":w.indexOf("objective-c lang")>-1?k="objective-c":w.indexOf("objc lang")>-1?k="objective-c":w.indexOf("c lang")>-1?k="c":w.indexOf("c++ lang")>-1?k="c++":w.indexOf("go lang")>-1&&(k="go"),""==k){u("Please specify the language in your code's comment, e.g. 'java', 'kotlin', 'dart', 'swift', 'python', 'php', 'javascript', 'typescript"),null===(c=l.current)||void 0===c||c.classList.add("hidden");return}}let j=await fetch("https://www.juniorit.ai/rest/"+K.api+("code"==K.api?"_v1":""),{method:"POST",headers:(0,A.Pg)(t.id,r),body:JSON.stringify({lang:k,meta:e.meta,message:y,taskId:e.taskId,onlineCourseSessionId:e.onlineCourseSessionId})});null===(o=e.onSubmit)||void 0===o||o.call(null);let C=j.body.getReader();for(;;){let{value:S,done:J}=await C.read();if(J)break;x||(u(""),$(!1),x=!0);let N=new TextDecoder("utf-8").decode(S);"[-DONE-]"==N||("[-ERROR-]"==N?u("Error-1!"):"[-LIMIT-]"==N?u("Daily limit is reached!"):(v+=N,u(v)))}null===(s=l.current)||void 0===s||s.classList.add("hidden"),"code"==K.api&&-1==v.indexOf("```")&&u("```".concat(k,"\n").concat(v,"\n```")),$(!0),window.scrollTo(h,b);return}if("kotlin"!=e.lang)g=await (0,O.Z)({method:"POST",url:"https://www.juniorit.ai/graphql",headers:(0,A.Pg)(t.id,r),data:{query:el,variables:{lang:e.lang,meta:e.meta,source:null==eo?void 0:eo.current.state.doc.toString()},taskId:e.taskId,onlineCourseSessionId:e.onlineCourseSessionId}}),null===(i=e.onSubmit)||void 0===i||i.call(null);else{let F=null==eo?void 0:eo.current.state.doc.toString();K.rawCode||F.match(/fun\s+main\s*\(/)||(F="fun main() {\n                    ".concat(F,"\n              }")),g=await (0,O.Z)({method:"POST",timeout:9e3,url:"https://api.kotlinlang.org//api/1.8.10/compiler/run",data:{args:"",files:[{name:"File.kt",text:F}]}}),null===(d=e.onSubmit)||void 0===d||d.call(null),g=g.data.text.length>0?{data:{data:{executeCodes:{result:g.data.text.replace("<outStream>","").replace("</outStream>","")}}}}:g.data.errors&&g.data.errors["File.kt"]&&g.data.errors["File.kt"][0].message&&g.data.errors["File.kt"][0].message.length>0?{data:{data:{executeCodes:{result:g.data.errors["File.kt"][0].message}}}}:{data:{data:{executeCodes:{result:"Error-4!"}}}}}let E=g.data;if(E.error)I.Z.error(E.error.errors),u("Error-2!"),null===(m=e.onError)||void 0===m||m.call(null);else if("image"!=K.api)u(E.data.executeCodes.result);else try{let B=JSON.parse(E.data.executeCodes.result);V(B.map(e=>({src:e.image,width:512,height:512,isSelected:!1,seed:e.seed}))),u("images")}catch(Z){I.Z.error(Z)}}catch(D){null!=ee&&(clearTimeout(ee),ee=null),console.log(D),u("Error-3!"),null===(p=e.onError)||void 0===p||p.call(null)}null===(n=l.current)||void 0===n||n.classList.add("hidden")}},ei=()=>{var t;if(l.current&&!l.current.classList.contains("hidden"))return;let r=null==c?void 0:c.state.update({changes:{from:0,to:null==c?void 0:c.state.doc.length,insert:"chat"!=K.api||K.reset?e.codes:"\n\n\n"}});null==c||c.dispatch(r||{changes:{from:0,insert:"0"}}),K.api||u(""),L(""),null===(t=e.onReset)||void 0===t||t.call(null)};return"flutter"==e.lang||"react"==e.lang?(0,a.jsx)("div",{className:"dart-pad-panel",ref:s}):(0,a.jsxs)(a.Fragment,{children:[(K.caption||K.detail)&&(0,a.jsxs)("div",{children:[K.caption&&(0,a.jsx)("h4",{children:K.caption}),K.detail&&(0,a.jsx)("h5",{className:"whitespace-pre",children:K.detail})]}),(0,a.jsxs)("div",{className:"jsx-e4df70a11162d00f code-mirror-block mb-6 relative",children:[(0,a.jsx)("div",{onClick:async()=>{let e=document.createElement("textarea");e.value=null==eo?void 0:eo.current.state.doc.toString(),document.body.append(e),e.select(),document.execCommand("copy"),e.remove()},style:{position:"absolute",cursor:"pointer",width:24,height:24,top:5,right:5,color:"white",zIndex:9},className:"jsx-e4df70a11162d00f copy-code-wrap",children:(0,a.jsx)("img",{src:"/img/copy.png",className:"jsx-e4df70a11162d00f copy-code"})}),(0,a.jsx)("div",{ref:o,className:"jsx-e4df70a11162d00f border-2"}),et?(0,a.jsxs)("div",{className:"jsx-e4df70a11162d00f flex justify-end items-center px-1 mt-2 mb-2  gap-2",children:[(0,a.jsxs)("button",{onClick:es,className:"jsx-e4df70a11162d00f w-auto rounded h-10 border-primary-blue text-white font-medium bg-primary-blue hover:opacity-80 flex flex-row items-center gap-2 px-4",children:[(0,a.jsx)("span",{className:"jsx-e4df70a11162d00f",children:X("chat"==K.api||"code"==K.api?"ask-now":"try-it")}),(0,a.jsx)("div",{ref:l,className:"jsx-e4df70a11162d00f loader hidden w-5 h-5"})]}),e.readOnly||K.readOnly?null:(0,a.jsx)("button",{style:{color:"black"},onClick:ei,className:"jsx-e4df70a11162d00f w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50",children:X("chat"!=K.api||K.reset?"reset":"clear")}),"chat"==K.from?(0,a.jsxs)("button",{onClick:()=>z(!0),className:"jsx-e4df70a11162d00f w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50",children:[X("ask")," ?"]}):null]}):null,d?K.api?"chat"==K.api||"code"==K.api?(0,a.jsxs)(Q,{children:[X("output"),":",M?(0,a.jsx)("div",{style:{backgroundColor:"white",border:"1px solid #cccccc55",padding:10},className:"jsx-e4df70a11162d00f",children:(0,a.jsx)(ec,{markdown:d,lang:K.topic,meta:'{"from":"chat"}'})}):(0,a.jsx)(Y,{children:d})]}):"image"==K.api?(0,a.jsxs)(Q,{children:[X("output"),":",(0,a.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #cccccc55",padding:10},className:"jsx-e4df70a11162d00f",children:[(0,a.jsx)("div",{style:{color:"red"},className:"jsx-e4df70a11162d00f",children:N}),(0,a.jsx)(E.Gallery,{rowHeight:220,images:q,onSelect:(e,t,r)=>{let a=q.map((t,r)=>r===e?{...t,isSelected:!t.isSelected}:{...t,isSelected:!1});V(a);try{let n=JSON.parse(null==eo?void 0:eo.current.state.doc.toString());n.input.init_image=q[e].src,n.input.seed=q[e].seed;let o=JSON.stringify(n,null,2),l=null==c?void 0:c.state.update({changes:{from:0,to:null==c?void 0:c.state.doc.length,insert:o}});null==c||c.dispatch(l||{changes:{from:0,insert:"0"}})}catch(s){I.Z.error(s)}}})]})]}):(0,a.jsxs)(Q,{children:[X("output"),":",(0,a.jsx)(Y,{children:d})]}):(0,a.jsxs)(Q,{children:[X("output"),":",(0,a.jsx)(Y,{children:d})]}):"","chat"==K.from&&Z?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-e4df70a11162d00f",children:[(0,a.jsxs)("b",{className:"jsx-e4df70a11162d00f",children:[X("question"),":"]})," "]}),(0,a.jsx)("div",{className:"jsx-e4df70a11162d00f w-full",children:(0,a.jsx)(R.Z,{codes:"Can you explain the code below? As I can not understand it: \n\n"+e.codes,lang:"markdown",meta:"{api:chat}"})})]}):null,(0,a.jsx)(m(),{id:"e4df70a11162d00f",children:".copy-code.jsx-e4df70a11162d00f{width:24px;height:24px;margin:0px!important}.copy-code-wrap.jsx-e4df70a11162d00f:active .copy-code.jsx-e4df70a11162d00f{-webkit-transform:translate(0,0)scale(.9);-moz-transform:translate(0,0)scale(.9);-ms-transform:translate(0,0)scale(.9);-o-transform:translate(0,0)scale(.9);transform:translate(0,0)scale(.9)}.animate.jsx-e4df70a11162d00f{-webkit-transform:translate(0,0)scale(1.12);-moz-transform:translate(0,0)scale(1.12);-ms-transform:translate(0,0)scale(1.12);-o-transform:translate(0,0)scale(1.12);transform:translate(0,0)scale(1.12)}.loader.jsx-e4df70a11162d00f{border:3px solid#f3f3f3;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;border-top:3px solid#3498db;width:20px;height:20px;-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-o-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})]})};var X=(0,n.memo)(V),K=r(74730),U=r(35574),ee=r(79857),et=r(4469),er=r(76089);let ea=e=>"string"==typeof e?e:0===n.Children.count(e)?"":n.Children.map(e,e=>n.isValidElement(e)?ea(e.props.children):e).join(""),en=e=>{let[t,r]=(0,n.useState)(!1),o=e.href.substring(2),l="/video-player/".concat(o),s=ea(e.children),c="";if(s.indexOf("|")>0&&(c=(s=s.split("|")[0]).split("|")[1]),s.match(/[0-9\:\-]{7,}/)){let i=s.split("-")[0],d=s.split("-")[1],u=60*Number.parseInt(i.split(":")[0])+Number.parseInt(i.split(":")[1]),m=60*Number.parseInt(d.split(":")[0])+Number.parseInt(d.split(":")[1]);l="/video-player/".concat(o,"/").concat(u,"/").concat(m)}else c||(c=s);let p=async e=>{if(!("documentPictureInPicture"in window))return!0;if(e.preventDefault(),t)r(!1),window.documentPictureInPicture.window&&window.documentPictureInPicture.window.close();else if(r(!0),window.documentPictureInPicture.window&&window.documentPictureInPicture.window.close(),window.documentPictureInPicture.window)console.log("never happen here");else{let a=screen.width>2220?1920:screen.width-300,n=await window.documentPictureInPicture.requestWindow({width:a,height:Math.round(1080*a/1920)});n.document.body.style.margin="0px",n.document.body.innerHTML='<iframe style="border: none; height: 100vh; width: 100vw;" src="'.concat(l,'" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>'),n.addEventListener("pagehide",e=>{r(!1)})}};return(0,n.useEffect)(()=>{if(!("documentPictureInPicture"in window))return;let e=()=>{};return documentPictureInPicture.addEventListener("enter",e),()=>{documentPictureInPicture.removeEventListener("enter",e)}},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:l,onClick:p,target:e.target,children:(0,a.jsx)(er.Z,{className:"w-6 h-6 inline mx-2 text-primary-blue opacity-80"})}),c&&(0,a.jsx)("a",{href:l,onClick:p,target:e.target,children:c})]})},eo=e=>{if(0==e.href.indexOf("v="))return en(e);let t=e.href.includes("youtube")||e.href.includes("youtu");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:e.href,target:e.target,children:e.children}),t&&(0,a.jsx)("a",{href:e.href,target:e.target,children:(0,a.jsx)(er.Z,{className:"w-6 h-6 inline mx-2 text-primary-blue opacity-80"})})]})},el=e=>{let{lang:t,meta:r,codes:o,readOnly:l,noActions:s,taskId:c,onlineCourseSessionId:i,onDocChanged:d,onSubmit:u,onError:m,onReset:p}=e,[f,g]=(0,n.useState)(o);return(0,a.jsx)("div",{children:(0,a.jsx)(X,{codes:f,lang:t,meta:r,readOnly:l,noActions:s,taskId:c,onlineCourseSessionId:i,onDocChanged:d,onSubmit:u,onError:m,onReset:p})})},es=e=>{let{markdown:t,lang:r,meta:n,readOnly:d,noActions:u,linkTarget:m,taskId:p,onlineCourseSessionId:f,onDocChanged:g,onSubmit:h,onError:b,onReset:x}=e,v=(0,o.l)().use(l.Z).parse(t);return(0,a.jsx)("div",{children:v.children.map((e,t)=>{if("code"===e.type){var l,v,k,y,w,j;if(n&&!e.meta&&(e.meta=n),r&&!e.lang&&(e.lang=r),"yml-form"==e.lang)return(0,a.jsx)(K.Z,{yml:e.value},t);if("yml-list"==e.lang)return(0,a.jsx)(U.Z,{meta:null!==(l=e.meta)&&void 0!==l?l:"{}",yml:e.value},t);if("tabs"==e.lang)return(0,a.jsx)(et.Z,{content:e.value,meta:null!==(v=e.meta)&&void 0!==v?v:"{}"},t);let C={};try{e.meta&&(C=D().parse(e.meta))}catch(S){console.error(S.message)}if("yaml"==e.lang&&"form"==C.type)return(0,a.jsx)(K.Z,{yml:e.value},t);if("chat"==C.type)return(0,a.jsx)(R.Z,{codes:e.value,lang:null!==(k=e.lang)&&void 0!==k?k:"markdown",meta:null!==(y=e.meta)&&void 0!==y?y:"{}",taskId:p,onlineCourseSessionId:f,onDocChanged:g,onSubmit:h,onError:b,onReset:x},t);if("code"==C.type)return"jsx"==e.lang&&(e.lang="react"),(0,a.jsx)(ee.Z,{codes:e.value,lang:null!==(w=e.lang)&&void 0!==w?w:"any",meta:null!==(j=e.meta)&&void 0!==j?j:"{}",taskId:p,onlineCourseSessionId:f,onDocChanged:g,onSubmit:h,onError:b,onReset:x},t);{if(e.lang&&e.meta)return(0,a.jsx)(el,{lang:e.lang,meta:e.meta,codes:e.value,readOnly:d,noActions:u,taskId:p,onlineCourseSessionId:f,onDocChanged:g,onSubmit:h,onError:b,onReset:x},t);let J=(0,o.l)().use(s.Z).stringify({type:"root",children:[e]});return(0,a.jsx)(c.D,{components:{a:eo},linkTarget:m||"_self",children:J},t)}}{let N=(0,o.l)().use(s.Z).stringify({type:"root",children:[e]});return(0,a.jsx)(c.D,{components:{a:eo},linkTarget:m||"_self",rehypePlugins:[i.Z],children:N},t)}})})};var ec=(0,n.memo)(es)},91505:function(e,t,r){var a=r(7297),n=r(85893),o=r(51857),l=r.n(o),s=r(67294),c=r(57219),i=r(78120),d=r(47421),u=r(45383),m=r(48825),p=r(44778),f=r(59119),g=r(34790),h=r(49892),b=r(85444),x=r(6154),v=r(7361),k=r(90629),y=r(50610),w=r(63069),j=r(79857),C=r(30702),S=r(9689),J=r.n(S),N=r(34060),O=r(19287),F=r(35524),I=r(9473),E=r(85359),L=r(14879);function B(){let e=(0,a.Z)(["\n  font-family: system-ui;\n  font-size: 14px;\n  margin: 10px 0;\n"]);return B=function(){return e},e}function Z(){let e=(0,a.Z)(["\n  color: black;\n  margin-top: 0px !important;\n  border: 1px solid #cccccc55 !important;\n  background-color: white !important;\n  white-space: pre-wrap !important;\n"]);return Z=function(){return e},e}function D(){let e=(0,a.Z)(["\n    mutation ($lang: String, $meta: String, $source: String) {\n      executeCodes(lang: $lang, meta: $meta, source: $source) {\n        codes {\n          lang\n          meta\n          source\n        }\n        status\n        result\n      }\n    }\n  "]);return D=function(){return e},e}let R={name:"dracula",dark:!0,background:"#282A36",foreground:"#F8F8F2",selection:"#ef4146",selectionMatch:"#ef414644",cursor:"#F8F8F2",dropdownBackground:"#282A36",dropdownBorder:"#191A21",activeLine:"#44475A00",matchingBracket:"#ef4146",keyword:"#FF79C6",storage:"#FF79C6",variable:"#F8F8F2",parameter:"#F8F8F2",function:"#50FA7B",string:"#F1FA8C",constant:"#BD93F9",type:"#8BE9FD",class:"#8BE9FD",number:"#BD93F9",comment:"#909cc3",heading:"#BD93F9",invalid:"#FF5555",regexp:"#F1FA8C"},P=d.tk.theme({"&":{color:R.foreground,backgroundColor:R.background},".cm-content":{caretColor:R.cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:R.cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:R.selection+" !important"},".cm-panels":{backgroundColor:R.dropdownBackground,color:R.foreground},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:R.dropdownBackground,outline:"1px solid ".concat(R.dropdownBorder)},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:R.selectionMatch},".cm-activeLine":{backgroundColor:R.activeLine,border:"1px dotted #44475A"},".cm-selectionMatch":{backgroundColor:R.selectionMatch},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:R.matchingBracket,outline:"none"},".cm-gutters":{backgroundColor:R.background,color:R.foreground,border:"none"},".cm-activeLineGutter":{backgroundColor:R.background},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:R.foreground},".cm-tooltip":{border:"1px solid ".concat(R.dropdownBorder),backgroundColor:R.dropdownBackground,color:R.foreground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:R.foreground,borderBottomColor:R.foreground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:R.selection,color:R.foreground}}},{dark:R.dark}),A=f.Qf.define([{tag:F.pJ.keyword,color:R.keyword},{tag:[F.pJ.name,F.pJ.deleted,F.pJ.character,F.pJ.macroName],color:R.variable},{tag:[F.pJ.propertyName],color:R.function},{tag:[F.pJ.processingInstruction,F.pJ.string,F.pJ.inserted,F.pJ.special(F.pJ.string)],color:R.string},{tag:[F.pJ.function(F.pJ.variableName),F.pJ.labelName],color:R.function},{tag:[F.pJ.color,F.pJ.constant(F.pJ.name),F.pJ.standard(F.pJ.name)],color:R.constant},{tag:[F.pJ.definition(F.pJ.name),F.pJ.separator],color:R.variable},{tag:[F.pJ.className],color:R.class},{tag:[F.pJ.number,F.pJ.changed,F.pJ.annotation,F.pJ.modifier,F.pJ.self,F.pJ.namespace],color:R.number},{tag:[F.pJ.typeName],color:R.type,fontStyle:R.type},{tag:[F.pJ.operator,F.pJ.operatorKeyword],color:R.keyword},{tag:[F.pJ.url,F.pJ.escape,F.pJ.regexp,F.pJ.link],color:R.regexp},{tag:[F.pJ.meta,F.pJ.comment],color:R.comment},{tag:F.pJ.strong,fontWeight:"bold"},{tag:F.pJ.emphasis,fontStyle:"italic"},{tag:F.pJ.link,textDecoration:"underline"},{tag:F.pJ.heading,fontWeight:"bold",color:R.heading},{tag:[F.pJ.atom,F.pJ.bool,F.pJ.special(F.pJ.variableName)],color:R.variable},{tag:F.pJ.invalid,color:R.invalid},{tag:F.pJ.strikethrough,textDecoration:"line-through"}]),T=[P,(0,f.nF)(A)],z=b.ZP.div(B()),M=b.ZP.pre(Z());String.prototype.indexOfRegex=function(e){let t=this.match(e);return[t?this.indexOf(t[0]):-1,t?t[0]:null]};let H=e=>{var t,r;let a=(0,I.v9)(e=>e.user.user),o=(0,I.v9)(e=>e.apiServerToken.apiServerToken),b=(0,s.useRef)(null),S=(0,s.useRef)(null),F=(0,s.useRef)(null),B=(0,s.useRef)(null),Z=(0,s.useRef)(null),R=(0,s.useRef)(null),[P,A]=(0,s.useState)(null),[$,_]=(0,s.useState)(""),[q,W]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)(!0),[G,V]=(0,s.useState)([]),X=(0,s.useRef)(!1),{t:K}=(0,C.$G)("common"),U=(0,s.useRef)(0),ee=(0,s.useRef)(0);(0,O.TA)((0,s.useCallback)(()=>{var e;null===(e=B.current)||void 0===e||e.classList.add("heart"),U.current=Date.now()},[]),{onFinish:()=>{var e;ee.current=Date.now(),null===(e=B.current)||void 0===e||e.classList.remove("heart")},cancelOnMovement:10});let et={};try{et=J().parse(e.meta)}catch(er){k.Z.error(er.message)}et.api||(et.api="chat");let ea=null,en=!0,eo=new L.Xo,el=[c.Xy,d.tk.lineWrapping,(0,d.HQ)(),(0,d.HQ)(),(0,d.AE)(),(0,u.m8)(),(0,f.mi)(),(0,d.qr)(),(0,f.nY)(),(0,f.nF)(f.R_,{fallback:!0}),(0,f.n$)(),(0,g.vQ)(),(0,g.ys)(),(0,d.Zs)(),(0,d.S2)(),(0,h.sW)(),i.yy.allowMultipleSelections.of(!1),d.$f.of([u.oc]),d.tk.updateListener.of(t=>{t.docChanged&&e.onDocChanged&&eo.onHandle(()=>{var r;null===(r=e.onDocChanged)||void 0===r||r.call(null,t.state.doc.toString())},350)})];"translate"===et.action?(el.push((0,d.Eu)()),el.push((0,p.C)()),el.push(T)):el.push((0,m.JH)()),e.noActions&&(en=!1),"code"==et.api&&(en=!0),(e.readOnly||et.readOnly)&&el.push(d.tk.editable.of(!1));let es=i.yy.create({doc:e.codes,extensions:el}),ec=(0,s.useRef)(null);(0,s.useEffect)(()=>{let t=e.lang;("markdown"===t||"any"===t)&&et.topic&&(t=et.topic);let r="any";switch(t){case"html":r="html";break;case"js":case"javascript":r="javascript";break;case"ts":case"typescript":break;case"react":case"jsx":case"tsx":r="tsx";break;case"rn":r="rn";break;case"py":case"python":r="python";break;case"pp":case"php":r="php";break;case"jv":case"java":r="java";break;case"kt":case"kotlin":r="kotlin";break;case"sw":case"swift":r="swift";break;case"c":r="c";break;case"cp":case"cpp":case"c++":r="c++";break;case"objc":case"objective-c":r="objective-c";break;case"go":r="go";break;case"dt":case"dart":r="dart";break;case"flt":case"flutter":r="flutter";case"u":r=localStorage.getItem("prefer_lang")||"dart";break;default:r="any"}if(!1===et.general&&"any"==r&&(r="dart"),R.current&&(R.current.value=r),et.optional&&e.callback&&e.index&&!X.current&&(X.current=!0,e.callback(e.index,1)),null!=b.current)return ec.current=new d.tk({state:es,parent:b.current}),A(ec.current),()=>{null==ec||ec.current.destroy()}},[]),(0,s.useEffect)(()=>{if(null==P)return;let t=null==P?void 0:P.state.update({changes:{from:0,to:null==P?void 0:P.state.doc.length,insert:e.codes}});null==P||P.dispatch(t||{changes:{from:0,insert:"0"}})},[e.codes]);let ei=(0,v.P)(D()),ed=async(t,r)=>{var l,s,c,i,d,u,m,p,f,g,h,b,v,w,C,J,N;if(!((null==ec?void 0:ec.current.state.doc.toString().trim().length)<2)){if("json"==e.lang)try{JSON.parse(null==ec?void 0:ec.current.state.doc.toString())}catch(O){_(JSON.stringify(O.message));return}et.api||_("");try{if("chat"!=et.api||r){let I;if(F.current&&!F.current.classList.contains("hidden"))return;null===(v=F.current)||void 0===v||v.classList.remove("hidden"),Y(!1);let L="flutter"==e.lang?"dart":e.lang;"react"==e.lang&&(L="typescript");let B=null==ec?void 0:ec.current.state.doc.toString();if(B.indexOf("dart lang")>-1?L="dart":B.indexOf("kotlin lang")>-1?L="kotlin":B.indexOf("swift lang")>-1?L="swift":B.indexOf("java lang")>-1?L="java":B.indexOf("python lang")>-1?L="python":B.indexOf("php lang")>-1?L="php":B.indexOf("javascript lang")>-1?L="javascript":B.indexOf("typescript lang")>-1?L="typescript":B.indexOf("objective-c lang")>-1?L="objective-c":B.indexOf("objc lang")>-1?L="objective-c":B.indexOf("c lang")>-1?L="c":B.indexOf("c++ lang")>-1?L="c++":B.indexOf("go lang")>-1&&(L="go"),"kotlin"!=e.lang)I=await (0,x.Z)({method:"POST",url:"https://www.juniorit.ai/graphql",headers:(0,E.Pg)(a.id,o),data:{query:ei,variables:{lang:L,meta:e.meta,source:null==ec?void 0:ec.current.state.doc.toString()},taskId:e.taskId,onlineCourseSessionId:e.onlineCourseSessionId}});else{let D=null==ec?void 0:ec.current.state.doc.toString();et.rawCode||D.match(/fun\s+main\s*\(/)||(D="fun main() {\n                    ".concat(D,"\n              }")),I=(I=await (0,x.Z)({method:"POST",timeout:9e3,url:"https://api.kotlinlang.org//api/1.8.10/compiler/run",data:{args:"",files:[{name:"File.kt",text:D}]}})).data.text.length>0?{data:{data:{executeCodes:{result:I.data.text.replace("<outStream>","").replace("</outStream>","")}}}}:I.data.errors&&I.data.errors["File.kt"]&&I.data.errors["File.kt"][0].message&&I.data.errors["File.kt"][0].message.length>0?{data:{data:{executeCodes:{result:I.data.errors["File.kt"][0].message}}}}:{data:{data:{executeCodes:{result:"Error-4!"}}}}}null===(w=e.onSubmit)||void 0===w||w.call(null);let A=I.data;A.error?(k.Z.error(A.error.errors),_("Error-2!"),null===(J=e.onError)||void 0===J||J.call(null)):_(A.data.executeCodes.result),null===(C=F.current)||void 0===C||C.classList.add("hidden")}else{if(Y(!0),S.current&&!S.current.classList.contains("hidden"))return;null===(c=S.current)||void 0===c||c.classList.remove("hidden");let T=!1,z="",M=e.lang,H=null==ec?void 0:ec.current.state.doc.toString();if("translate"==et.action){M="flutter"==e.lang?"dart":e.lang,"react"==e.lang&&(M="typescript");let $=H.toLowerCase();if($.indexOf("dart lang")>-1?M="dart":$.indexOf("kotlin lang")>-1?M="kotlin":$.indexOf("swift lang")>-1?M="swift":$.indexOf("java lang")>-1?M="java":$.indexOf("python lang")>-1?M="python":$.indexOf("php lang")>-1?M="php":$.indexOf("javascript lang")>-1?M="javascript":$.indexOf("typescript lang")>-1?M="typescript":$.indexOf("objective-c lang")>-1?M="objective-c":$.indexOf("objc lang")>-1?M="objective-c":$.indexOf("c lang")>-1?M="c":$.indexOf("c++ lang")>-1?M="c++":$.indexOf("go lang")>-1?M="go":$.indexOf("natural")>-1?M="natural":$.indexOf("human")>-1&&(M="natural"),!M||"any"==M){_("Please specify the language in your code's comment, e.g. 'natural', 'java', 'kotlin', 'dart', 'swift', 'python', 'php', 'javascript', 'typescript'"),null===(p=S.current)||void 0===p||p.classList.add("hidden");return}if("any"==R.current.value){_("Please select which language you want to translate in the dropdown above"),null===(f=S.current)||void 0===f||f.classList.add("hidden");return}if(R.current.value==M){_("Please select a different language to translate"),null===(g=S.current)||void 0===g||g.classList.add("hidden");return}}else R.current&&"any"!=R.current.value&&(M=R.current.value);let q=JSON.stringify({lang:M,toLang:"translate"==et.action&&(null===(i=R.current)||void 0===i?void 0:i.value),meta:e.meta,extraInfo:null===(d=Z.current)||void 0===d?void 0:d.value,message:H,taskId:e.taskId,onlineCourseSessionId:e.onlineCourseSessionId}),W=!1,Q="";t.target||(W=!0);let G=(0,E.VA)(a.id,o);W?((q=t).append("lang",M),q.append("meta",e.meta),q.append("extraInfo",null===(h=Z.current)||void 0===h?void 0:h.value)):G=(0,E.wi)(G);let K=await fetch("https://www.juniorit.ai/rest/"+(W?"audio":et.api),{method:"POST",headers:G,body:q});null===(u=e.onSubmit)||void 0===u||u.call(null);let U=K.body.getReader(),ee=0,er="markdown",en="",eo="",el=(0,n.jsx)(y.D,{children:eo},ee);for(V(e=>[el]);;){let{value:es,done:ed}=await U.read();if(ed)break;T||(_(""),V([]),Y(!1),T=!0);let eu=new TextDecoder("utf-8").decode(es);if("[-DONE-]"==eu);else if("[-ERROR-]"==eu)_("Error-1!");else if("[-LIMIT-]"==eu)_("Daily limit is reached!");else if("[-SILENCE-]"==eu)_("Audio recording is too short!");else{if(z+=eu,W&&0==Q.length){if(!(z.indexOf("\n")>0))continue;{Q=z.substring(0,z.indexOf("\n")),z=z.substring(z.indexOf("\n")+1);let em=null==P?void 0:P.state.update({changes:{from:0,to:null==P?void 0:P.state.doc.length,insert:Q}});null==P||P.dispatch(em||{changes:{from:0,insert:"0"}})}}for(;;){if("markdown"==er){let ep=z.indexOfRegex(/```[a-z\+\-]*\n/);if(z.length>15&&-1==ep[0]){eo+=z.substring(0,z.length-15),z=z.substring(z.length-15);let ef=ee,eg=(0,n.jsx)(y.D,{children:eo.replace("[-DONE-]","")},ee);V(e=>[...e=e.filter(e=>e.key!=ef),eg]);break}if(ep[0]>=0){if(ep[0]>0){eo+=z.substring(0,ep[0]);let eh=ee,eb=(0,n.jsx)(y.D,{children:eo.replace("[-DONE-]","")},ee);V(e=>[...e=e.filter(e=>e.key!=eh),eb])}ee++,eo="",en=ep[1].trim().replace("```","");let ex=(0,n.jsx)(j.Z,{codes:eo,lang:en,meta:"{from:chat, action: run}"},ee);er="code",V(e=>[...e,ex]),z=z.substring(ep[0]+ep[1].length);continue}break}{let ev=z.indexOfRegex(/```/);if(z.length>=3&&-1==ev[0]){eo+=z.substring(0,z.length-3),z=z.substring(z.length-3),eo.includes("package:flutter/")?en="flutter":eo.match(/from\s+('|")react('|")/)&&(en="react");let ek=ee,ey=(0,n.jsx)(j.Z,{codes:eo,lang:en,meta:"{from:chat, action: run}"},ee);V(e=>[...e=e.filter(e=>e.key!=ek),ey]);break}if(ev[0]>=0){if(ev[0]>0){eo+=z.substring(0,ev[0]);let ew=ee,ej=(0,n.jsx)(j.Z,{codes:eo,lang:en,meta:"{from:chat, action: run}"},ee);V(e=>[...e=e.filter(e=>e.key!=ew),ej])}if(eo.includes("package:flutter/")){let eC=ee;en="flutter";let eS=(0,n.jsx)(j.Z,{reload:!0,codes:eo,lang:en,meta:"{from:chat, action: run}"},ee);V(e=>[...e=e.filter(e=>e.key!=eC),eS])}else if(eo.match(/from\s+('|")react('|")/)){let eJ=ee;en="react";let eN=(0,n.jsx)(j.Z,{reload:!0,codes:eo,lang:en,meta:"{from:chat, action: run}"},ee);V(e=>[...e=e.filter(e=>e.key!=eJ),eN])}ee++,eo="";let eO=(0,n.jsx)(y.D,{children:eo},ee);er="markdown",V(e=>[...e,eO]),z=z.substring(ev[0]+ev[1].length);continue}break}}}}if(z.length>0){if("markdown"==er){eo+=z;let eF=ee,eI=(0,n.jsx)(y.D,{children:eo.replace("[-DONE-]","")},ee);V(e=>[...e=e.filter(e=>e.key!=eF),eI])}else{eo+=z;let eE=ee;eo.includes("package:flutter/")?en="flutter":eo.match(/from\s+('|")react('|")/)&&(en="react");let eL=(0,n.jsx)(j.Z,{codes:eo,reload:!0,lang:en,meta:"{from:chat, action: run}",taskId:e.taskId,onlineCourseSessionId:e.onlineCourseSessionId},ee);V(e=>[...e=e.filter(e=>e.key!=eE),eL])}}if(null===(m=S.current)||void 0===m||m.classList.add("hidden"),Y(!0),X.current)return;X.current=!0,e.callback&&e.callback(null!==(b=e.index)&&void 0!==b?b:0,1);return}}catch(eB){null!=ea&&(clearTimeout(ea),ea=null),console.log(eB),_("Error-3!"),null===(N=e.onError)||void 0===N||N.call(null)}r?null===(s=F.current)||void 0===s||s.classList.add("hidden"):null===(l=S.current)||void 0===l||l.classList.add("hidden")}},eu=()=>{var t;if(S.current&&!S.current.classList.contains("hidden"))return;let r=null==P?void 0:P.state.update({changes:{from:0,to:null==P?void 0:P.state.doc.length,insert:et.reset?e.codes:"\n\n\n"}});null==P||P.dispatch(r||{changes:{from:0,insert:"0"}}),null===(t=e.onReset)||void 0===t||t.call(null)};return(0,n.jsxs)(n.Fragment,{children:[(et.caption||et.detail)&&(0,n.jsxs)("div",{children:[et.caption&&(0,n.jsx)("h4",{children:et.caption}),et.detail&&(0,n.jsx)("h5",{className:"whitespace-pre",children:et.detail})]}),(0,n.jsxs)("div",{className:"jsx-5cb03f3a7b7abc81 chat-block mb-6 relative",children:[(0,n.jsx)("div",{onClick:async()=>{let e=document.createElement("textarea");e.value=null==ec?void 0:ec.current.state.doc.toString(),document.body.append(e),e.select(),document.execCommand("copy"),e.remove()},style:{position:"absolute",cursor:"pointer",width:24,height:24,top:5,right:5,color:"white",zIndex:9},className:"jsx-5cb03f3a7b7abc81 copy-code-wrap",children:(0,n.jsx)("img",{src:"/img/copy.png",className:"jsx-5cb03f3a7b7abc81 copy-code"})}),(0,n.jsx)("div",{ref:b,style:{minHeight:null!==(t=et.minHeight)&&void 0!==t?t:"90px",maxHeight:null!==(r=et.maxHeight)&&void 0!==r?r:"50vh",overflow:"auto"},className:"jsx-5cb03f3a7b7abc81 border-2"}),(0,n.jsx)("textarea",{ref:Z,style:{boxSizing:"border-box",width:"calc(100% - 4px)",margin:"4px 2px"},placeholder:"You have the option to submit additional documentation or sample code that can assist AI in completing your task more effectively. Please provide them here.",className:"jsx-5cb03f3a7b7abc81 hidden"}),en?(0,n.jsxs)("div",{className:"jsx-5cb03f3a7b7abc81 flex justify-end items-center px-1 mt-2 mb-2 gap-2",children:[!1!==et.dropdown&&(0,n.jsxs)("select",{ref:R,onChange:()=>{var e,t,r;if((null===(e=R.current)||void 0===e?void 0:e.value)&&(null===(t=R.current)||void 0===t?void 0:t.value)!="any")try{localStorage.setItem("prefer_lang",null===(r=R.current)||void 0===r?void 0:r.value)}catch(a){}},className:"jsx-5cb03f3a7b7abc81",children:[!1!==et.general&&(0,n.jsx)("option",{value:"any",className:"jsx-5cb03f3a7b7abc81",children:"translate"==et.action?"Translate to":"General"}),(0,n.jsx)("option",{value:"dart",className:"jsx-5cb03f3a7b7abc81",children:"Dart"}),(0,n.jsx)("option",{value:"flutter",className:"jsx-5cb03f3a7b7abc81",children:"Flutter"}),(0,n.jsx)("option",{value:"html",className:"jsx-5cb03f3a7b7abc81",children:"HTML/CSS"}),(0,n.jsx)("option",{value:"javascript",className:"jsx-5cb03f3a7b7abc81",children:"JavaScript"}),(0,n.jsx)("option",{value:"typescript",className:"jsx-5cb03f3a7b7abc81",children:"TypeScript"}),(0,n.jsx)("option",{value:"tsx",className:"jsx-5cb03f3a7b7abc81",children:"React"}),(0,n.jsx)("option",{value:"rn",className:"jsx-5cb03f3a7b7abc81",children:"React Native"}),(0,n.jsx)("option",{value:"python",className:"jsx-5cb03f3a7b7abc81",children:"Python"}),(0,n.jsx)("option",{value:"php",className:"jsx-5cb03f3a7b7abc81",children:"PHP"}),(0,n.jsx)("option",{value:"swift",className:"jsx-5cb03f3a7b7abc81",children:"Swift"}),(0,n.jsx)("option",{value:"java",className:"jsx-5cb03f3a7b7abc81",children:"Java"}),(0,n.jsx)("option",{value:"kotlin",className:"jsx-5cb03f3a7b7abc81",children:"Kotlin"}),(0,n.jsx)("option",{value:"c",className:"jsx-5cb03f3a7b7abc81",children:"C"}),(0,n.jsx)("option",{value:"c++",className:"jsx-5cb03f3a7b7abc81",children:"++C"}),(0,n.jsx)("option",{value:"objective-c",className:"jsx-5cb03f3a7b7abc81",children:"Objective-C"}),(0,n.jsx)("option",{value:"go",className:"jsx-5cb03f3a7b7abc81",children:"Golang"}),(0,n.jsx)("option",{value:"assembly",className:"jsx-5cb03f3a7b7abc81",children:"Assembly"})]}),!1!=et.extraInfo&&(0,n.jsx)(N.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer inline select-none mx-2",onClick:()=>{var e;null===(e=Z.current)||void 0===e||e.classList.toggle("hidden")}}),null,(0,n.jsxs)("button",{onClick:ed,onContextMenu:e=>e.preventDefault(),className:"jsx-5cb03f3a7b7abc81 w-auto select-none rounded h-10 border-primary-blue text-white font-medium bg-primary-blue hover:opacity-80 flex flex-row items-center gap-2 px-4",children:[(0,n.jsx)("span",{className:"jsx-5cb03f3a7b7abc81 whitespace-nowrap",children:et.button?et.button:K("ask-now")}),(0,n.jsx)("div",{ref:S,className:"jsx-5cb03f3a7b7abc81 loader hidden w-5 h-5"})]}),e.readOnly||et.readOnly?null:"translate"==et.action?(0,n.jsxs)("button",{style:{color:"black"},onClick:()=>ed(void 0,!0),onContextMenu:e=>e.preventDefault(),className:"jsx-5cb03f3a7b7abc81 w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50 select-none",children:[(0,n.jsx)("span",{className:"jsx-5cb03f3a7b7abc81",children:"Run"}),(0,n.jsx)("div",{ref:F,className:"jsx-5cb03f3a7b7abc81 loader hidden w-5 h-5"})]}):(0,n.jsx)("button",{style:{color:"black"},onClick:eu,onContextMenu:e=>e.preventDefault(),className:"jsx-5cb03f3a7b7abc81 w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50 select-none",children:K(et.reset?"reset":"clear")}),"chat"==et.from?(0,n.jsxs)("button",{onClick:()=>W(!0),className:"jsx-5cb03f3a7b7abc81 w-auto px-4 h-8 bg-white rounded-md shadow-md inline-flex justify-center",children:[K("ask")," ?"]}):null]}):null,$&&(0,n.jsxs)(z,{children:[K("output"),":",Q?(0,n.jsx)("div",{style:{backgroundColor:"white",border:"1px solid #cccccc55",padding:10},className:"jsx-5cb03f3a7b7abc81",children:(0,n.jsx)(w.Z,{markdown:$,lang:et.topic,meta:'{"from":"chat"}'})}):(0,n.jsx)(M,{children:$})]}),"chat"==et.from&&q?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"jsx-5cb03f3a7b7abc81",children:[(0,n.jsxs)("b",{className:"jsx-5cb03f3a7b7abc81",children:[K("question"),":"]})," "]}),(0,n.jsx)("div",{className:"jsx-5cb03f3a7b7abc81 w-full",children:(0,n.jsx)(H,{codes:"Can you explain the code below? As I can not understand it: \n\n"+e.codes,lang:e.lang,meta:"{type:chat, audio:false}"})})]}):null,(0,n.jsx)("div",{style:{color:"#0c41b5"},className:"jsx-5cb03f3a7b7abc81",children:G}),(0,n.jsx)(l(),{id:"5cb03f3a7b7abc81",children:".copy-code.jsx-5cb03f3a7b7abc81{width:24px;height:24px;margin:0px!important}.copy-code-wrap.jsx-5cb03f3a7b7abc81:active .copy-code.jsx-5cb03f3a7b7abc81{-webkit-transform:translate(0,0)scale(.9);-moz-transform:translate(0,0)scale(.9);-ms-transform:translate(0,0)scale(.9);-o-transform:translate(0,0)scale(.9);transform:translate(0,0)scale(.9)}select.jsx-5cb03f3a7b7abc81{border:none;outline:none;background-color:transparent;color:black;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;padding-right:2rem;-moz-text-align-last:right;text-align-last:right}select.jsx-5cb03f3a7b7abc81:focus{outline:none}option.jsx-5cb03f3a7b7abc81{direction:rtl}.loader.jsx-5cb03f3a7b7abc81{border:3px solid#f3f3f3;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;border-top:3px solid#3498db;width:20px;height:20px;-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-o-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.heart.jsx-5cb03f3a7b7abc81{color:#e00;-webkit-animation:beat.25s infinite alternate;-moz-animation:beat.25s infinite alternate;-o-animation:beat.25s infinite alternate;animation:beat.25s infinite alternate;-webkit-transform-origin:center;-moz-transform-origin:center;-ms-transform-origin:center;-o-transform-origin:center;transform-origin:center}@-webkit-keyframes beat{0%{-webkit-transform:scale(.8);transform:scale(.8)}100%{-webkit-transform:scale(1.2);transform:scale(1.2)}}@-moz-keyframes beat{0%{-moz-transform:scale(.8);transform:scale(.8)}100%{-moz-transform:scale(1.2);transform:scale(1.2)}}@-o-keyframes beat{0%{-o-transform:scale(.8);transform:scale(.8)}100%{-o-transform:scale(1.2);transform:scale(1.2)}}@keyframes beat{0%{-webkit-transform:scale(.8);-moz-transform:scale(.8);-o-transform:scale(.8);transform:scale(.8)}100%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}}"})]})]})};t.Z=(0,s.memo)(H)},79857:function(e,t,r){r.d(t,{Z:function(){return eu}});var a=r(7297),n=r(85893),o=r(51857),l=r.n(o),s=r(67294),c=r(57219),i=r(78120),d=r(47421),u=r(45383),m=r(28088),p=r(12386),f=r(44732),g=r(48825),h=r(44778),b=r(59119),x=r(34790),v=r(67917),k=r(66062),y=r(49892),w=r(85444),j=r(6154),C=r(7361),S=r(90629),J=r(50610),N=r(63069),O=r(35524),F=r(30702),I=r(9689),E=r.n(I),L=r(91505),B=r(34060),Z=r(37656),D=r(67307),R=r(20382),P=r(82566),A=r(65250),T=r(9473),z=r(85359);function M(){let e=(0,a.Z)(["\nfont-family:system-ui;font-size:14px; margin: 10px 0;\n"]);return M=function(){return e},e}function H(){let e=(0,a.Z)(["\ncolor: black;\nmargin-top: 0px !important;\nborder: 1px solid #cccccc55 !important;\nbackground-color: white !important;\nwhite-space: pre-wrap !important;\n"]);return H=function(){return e},e}function $(){let e=(0,a.Z)(["\n  mutation($lang: String, $meta: String, $source: String){\n    executeCodes(lang: $lang, meta: $meta, source: $source) {\n      codes {\n        lang\n        meta\n        source\n      }\n      status\n      result\n    }\n  }\n"]);return $=function(){return e},e}let _={name:"dracula",dark:!0,background:"#282A36",foreground:"#F8F8F2",selection:"#ef4146",selectionMatch:"#ef414644",cursor:"#F8F8F2",dropdownBackground:"#282A36",dropdownBorder:"#191A21",activeLine:"#44475A00",matchingBracket:"#ef4146",keyword:"#FF79C6",storage:"#FF79C6",variable:"#F8F8F2",parameter:"#F8F8F2",function:"#50FA7B",string:"#F1FA8C",constant:"#BD93F9",type:"#8BE9FD",class:"#8BE9FD",number:"#BD93F9",comment:"#909cc3",heading:"#BD93F9",invalid:"#FF5555",regexp:"#F1FA8C"},q=d.tk.theme({"&":{color:_.foreground,backgroundColor:_.background},".cm-content":{caretColor:_.cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:_.cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:_.selection+" !important"},".cm-panels":{backgroundColor:_.dropdownBackground,color:_.foreground},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:_.dropdownBackground,outline:"1px solid ".concat(_.dropdownBorder)},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:_.selectionMatch},".cm-activeLine":{backgroundColor:_.activeLine,border:"1px dotted #44475A"},".cm-selectionMatch":{backgroundColor:_.selectionMatch},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:_.matchingBracket,outline:"none"},".cm-gutters":{backgroundColor:_.background,color:_.foreground,border:"none"},".cm-activeLineGutter":{backgroundColor:_.background},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:_.foreground},".cm-tooltip":{border:"1px solid ".concat(_.dropdownBorder),backgroundColor:_.dropdownBackground,color:_.foreground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:_.foreground,borderBottomColor:_.foreground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:_.selection,color:_.foreground}}},{dark:_.dark}),W=b.Qf.define([{tag:O.pJ.keyword,color:_.keyword},{tag:[O.pJ.name,O.pJ.deleted,O.pJ.character,O.pJ.macroName],color:_.variable},{tag:[O.pJ.propertyName],color:_.function},{tag:[O.pJ.processingInstruction,O.pJ.string,O.pJ.inserted,O.pJ.special(O.pJ.string)],color:_.string},{tag:[O.pJ.function(O.pJ.variableName),O.pJ.labelName],color:_.function},{tag:[O.pJ.color,O.pJ.constant(O.pJ.name),O.pJ.standard(O.pJ.name)],color:_.constant},{tag:[O.pJ.definition(O.pJ.name),O.pJ.separator],color:_.variable},{tag:[O.pJ.className],color:_.class},{tag:[O.pJ.number,O.pJ.changed,O.pJ.annotation,O.pJ.modifier,O.pJ.self,O.pJ.namespace],color:_.number},{tag:[O.pJ.typeName],color:_.type,fontStyle:_.type},{tag:[O.pJ.operator,O.pJ.operatorKeyword],color:_.keyword},{tag:[O.pJ.url,O.pJ.escape,O.pJ.regexp,O.pJ.link],color:_.regexp},{tag:[O.pJ.meta,O.pJ.comment],color:_.comment},{tag:O.pJ.strong,fontWeight:"bold"},{tag:O.pJ.emphasis,fontStyle:"italic"},{tag:O.pJ.link,textDecoration:"underline"},{tag:O.pJ.heading,fontWeight:"bold",color:_.heading},{tag:[O.pJ.atom,O.pJ.bool,O.pJ.special(O.pJ.variableName)],color:_.variable},{tag:O.pJ.invalid,color:_.invalid},{tag:O.pJ.strikethrough,textDecoration:"line-through"}]),Q=[q,(0,b.nF)(W)],Y=w.ZP.div(M()),G=w.ZP.pre(H()),V=e=>{var t,r;let a=(0,T.v9)(e=>e.user.user),o=(0,T.v9)(e=>e.apiServerToken.apiServerToken),w=(0,s.useRef)(null),j=(0,s.useRef)(null),O=(0,s.useRef)(null),I=(0,s.useRef)(null),[L,Z]=(0,s.useState)(null),[D,R]=(0,s.useState)(""),[P,A]=(0,s.useState)(e.codes),[M,H]=(0,s.useState)(!0),[_,q]=(0,s.useState)([]),{t:W}=(0,F.$G)("common"),V={};try{V=E().parse(e.meta)}catch(X){S.Z.error(X.message)}V.api||(V.api=null);let K=!0,U=[c.Xy,d.tk.lineWrapping,(0,d.HQ)(),(0,d.HQ)(),(0,d.AE)(),(0,u.m8)(),(0,b.mi)(),(0,d.qr)(),(0,b.nY)(),(0,b.nF)(b.R_,{fallback:!0}),(0,b.n$)(),(0,x.vQ)(),(0,x.ys)(),(0,d.Zs)(),(0,d.S2)(),(0,y.sW)(),i.yy.allowMultipleSelections.of(!1),d.$f.of([u.oc])];switch(e.lang){case"javascript":case"typescript":case"java":case"objc":case"objective-c":case"c":case"cpp":case"c++":case"go":case"dart":U.push((0,d.Eu)()),U.push((0,h.C)());break;case"python":U.push((0,d.Eu)()),U.push((0,m.Vs)());break;case"markdown":U.push((0,g.JH)());break;case"php":U.push((0,d.Eu)()),U.push((0,p.h)({plain:!0}));break;case"kotlin":U=[...U,(0,d.Eu)(),b.il.define(v.j7)];break;case"swift":U=[...U,(0,d.Eu)(),b.il.define(k.v)];break;case"json":U.push((0,d.Eu)()),U.push((0,f.AV)());break;default:U.push((0,d.Eu)()),U.push((0,h.C)()),K=!1}K=!0,U.push(Q),(e.readOnly||V.readOnly)&&U.push(d.tk.editable.of(!1));let ee=i.yy.create({doc:e.codes,extensions:U});(0,s.useEffect)(()=>{if(null!=w&&null!=w.current)return et.current=new d.tk({state:ee,parent:w.current}),Z(et.current),()=>{var e;null==et||null===(e=et.current)||void 0===e||e.destroy()}},[]),(0,s.useEffect)(()=>{if(null==L)return;let e=null==L?void 0:L.state.update({changes:{from:0,to:null==L?void 0:L.state.doc.length,insert:P},selection:{anchor:P.length,head:P.length},scrollIntoView:!0});null==L||L.dispatch(e||{changes:{from:0,insert:"0"}})},[P]),(0,s.useEffect)(()=>{if(null==L)return;let t=null==L?void 0:L.state.update({changes:{from:0,to:null==L?void 0:L.state.doc.length,insert:e.codes}});null==L||L.dispatch(t||{changes:{from:0,insert:"0"}})},[e.codes]);let et=(0,s.useRef)(null);(0,C.P)($());let er=async t=>{var r,l,s,c,i,d,u;let m=null==et?void 0:et.current.state.doc.toString();if(!(m.length<2)){if(j.current&&!j.current.classList.contains("hidden")||O.current&&!O.current.classList.contains("hidden"))return;t?null===(r=j.current)||void 0===r||r.classList.remove("hidden"):null===(l=O.current)||void 0===l||l.classList.remove("hidden"),R("");try{let p=!1,f="",g=e.lang,h=e.source.toLowerCase();h.indexOf("dart lang")>-1?g="dart":h.indexOf("kotlin lang")>-1?g="kotlin":h.indexOf("swift lang")>-1?g="swift":h.indexOf("java lang")>-1?g="java":h.indexOf("python lang")>-1?g="python":h.indexOf("php lang")>-1?g="php":h.indexOf("javascript lang")>-1?g="javascript":h.indexOf("typescript lang")>-1?g="typescript":h.indexOf("objective-c lang")>-1?g="objective-c":h.indexOf("objc lang")>-1?g="objective-c":h.indexOf("c lang")>-1?g="c":h.indexOf("c++ lang")>-1?g="c++":h.indexOf("go lang")>-1&&(g="go");let b=await fetch("https://www.juniorit.ai/rest/code_v1",{method:"POST",headers:(0,z.Pg)(a.id,o),body:JSON.stringify({lang:g,meta:e.meta,snippet:!0,extraInfo:null===(s=I.current)||void 0===s?void 0:s.value,message:m})}),x=b.body.getReader(),v=0,k="markdown",y="",w=(0,n.jsx)(J.D,{children:y},v);for(q(e=>[w]);;){let{value:C,done:S}=await x.read();if(S)break;p||(R(""),q([]),H(!1),p=!0);let N=new TextDecoder("utf-8").decode(C);if("[-DONE-]"==N);else if("[-ERROR-]"==N)R("Error-1!");else if("[-LIMIT-]"==N)R("Daily limit is reached!");else for(f+=N;;){if("markdown"==k){let F=f.indexOfRegex(/```[a-z\+\-]*\n/);if(f.length>15&&-1==F[0]){y+=f.substring(0,f.length-15),f=f.substring(f.length-15);let E=v,L=(0,n.jsx)(J.D,{children:y},v);q(e=>[...e=e.filter(e=>e.key!=E),L]);break}if(F[0]>=0){if(F[0]>0){y+=f.substring(0,F[0]);let B=v,Z=(0,n.jsx)(J.D,{children:y},v);q(e=>[...e=e.filter(e=>e.key!=B),Z])}v++,y="",F[1].trim().replace("```",""),k="code",A(y),f=f.substring(F[0]+F[1].length);continue}break}{let D=f.indexOfRegex(/```/);if(f.length>=3&&-1==D[0]){y+=f.substring(0,f.length-3),f=f.substring(f.length-3),A(y);break}if(D[0]>=0){D[0]>0&&(y+=f.substring(0,D[0]),A(y)),y.includes("package:flutter/"),v++,y="";let P=(0,n.jsx)(J.D,{children:y},v);k="markdown",q(e=>[...e,P]),f=f.substring(D[0]+D[1].length);continue}break}}}if(f.length>0){if("markdown"==k){y+=f;let T=v,M=(0,n.jsx)(J.D,{children:y},v);q(e=>[...e=e.filter(e=>e.key!=T),M])}else y+=f,A(y)}t?null===(c=j.current)||void 0===c||c.classList.add("hidden"):null===(i=O.current)||void 0===i||i.classList.add("hidden"),H(!0)}catch($){t?null===(d=j.current)||void 0===d||d.classList.add("hidden"):null===(u=O.current)||void 0===u||u.classList.add("hidden"),console.log($)}}};return(0,n.jsxs)("div",{className:"jsx-e4df70a11162d00f code-snippet mb-6 relative",children:[(0,n.jsx)("div",{onClick:async()=>{let e=document.createElement("textarea");e.value=null==et?void 0:et.current.state.doc.toString(),document.body.append(e),e.select(),document.execCommand("copy"),e.remove()},style:{position:"absolute",cursor:"pointer",width:24,height:24,top:5,right:5,color:"white",zIndex:9},className:"jsx-e4df70a11162d00f copy-code-wrap",children:(0,n.jsx)("img",{src:"/img/copy.png",className:"jsx-e4df70a11162d00f copy-code"})}),(0,n.jsx)("div",{ref:w,style:{minHeight:null!==(t=V.minHeight)&&void 0!==t?t:"90px",maxHeight:null!==(r=V.maxHeight)&&void 0!==r?r:"50vh",overflow:"auto"},className:"jsx-e4df70a11162d00f border-2"}),(0,n.jsx)("textarea",{ref:I,style:{boxSizing:"border-box",width:"calc(100% - 4px)",margin:"4px 2px"},placeholder:"You have the option to submit additional documentation or sample code that can assist AI in completing your code or fixing any errors more effectively. Please provide them here.",className:"jsx-e4df70a11162d00f hidden"}),K?(0,n.jsxs)("div",{className:"jsx-e4df70a11162d00f flex justify-end items-center px-1 mt-2 mb-2  gap-2",children:[(0,n.jsx)(B.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer inline select-none mx-2",onClick:()=>{var e;null===(e=I.current)||void 0===e||e.classList.toggle("hidden")}}),(0,n.jsx)("button",{onClick:()=>{e.cancelCallback()},className:"jsx-e4df70a11162d00f w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50",children:"Cancel"}),e.codes.includes("TODO:")||(0,n.jsxs)("button",{onClick:()=>er(!0),className:"jsx-e4df70a11162d00f w-auto rounded h-10 border-primary-blue text-white font-medium bg-primary-blue hover:opacity-80 flex flex-row items-center gap-2 px-4",children:[(0,n.jsx)("span",{className:"jsx-e4df70a11162d00f",children:"Complete it"}),(0,n.jsx)("div",{ref:j,className:"jsx-e4df70a11162d00f loader hidden w-5 h-5"})]}),(0,n.jsxs)("button",{onClick:()=>er(!1),className:"jsx-e4df70a11162d00f w-auto rounded h-10 border-primary-blue text-white font-medium bg-primary-blue hover:opacity-80 flex flex-row items-center gap-2 px-4",children:[(0,n.jsx)("span",{className:"jsx-e4df70a11162d00f",children:"Fix it"}),(0,n.jsx)("div",{ref:O,className:"jsx-e4df70a11162d00f loader hidden w-5 h-5"})]}),(0,n.jsx)("button",{onClick:()=>{(!j.current||j.current.classList.contains("hidden"))&&(!O.current||O.current.classList.contains("hidden"))&&e.saveCallback(null==et?void 0:et.current.state.doc.toString())},className:"jsx-e4df70a11162d00f w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50",children:"Save"})]}):null,D?V.api&&("chat"==V.api||"code"==V.api)?(0,n.jsxs)(Y,{children:[W("output"),":",M?(0,n.jsx)("div",{style:{backgroundColor:"white",border:"1px solid #cccccc55",padding:10},className:"jsx-e4df70a11162d00f",children:(0,n.jsx)(N.Z,{markdown:D,lang:V.topic,meta:'{"from":"chat"}'})}):(0,n.jsx)(G,{children:D})]}):(0,n.jsxs)(Y,{children:[W("output"),":",(0,n.jsx)(G,{children:D})]}):"",_,(0,n.jsx)(l(),{id:"e4df70a11162d00f",children:".copy-code.jsx-e4df70a11162d00f{width:24px;height:24px;margin:0px!important}.copy-code-wrap.jsx-e4df70a11162d00f:active .copy-code.jsx-e4df70a11162d00f{-webkit-transform:translate(0,0)scale(.9);-moz-transform:translate(0,0)scale(.9);-ms-transform:translate(0,0)scale(.9);-o-transform:translate(0,0)scale(.9);transform:translate(0,0)scale(.9)}.animate.jsx-e4df70a11162d00f{-webkit-transform:translate(0,0)scale(1.12);-moz-transform:translate(0,0)scale(1.12);-ms-transform:translate(0,0)scale(1.12);-o-transform:translate(0,0)scale(1.12);transform:translate(0,0)scale(1.12)}.loader.jsx-e4df70a11162d00f{border:3px solid#f3f3f3;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;border-top:3px solid#3498db;width:20px;height:20px;-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-o-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})};var X=(0,s.memo)(V),K=r(14879);function U(){let e=(0,a.Z)(["\nfont-family:system-ui;font-size:14px; margin: 10px 0;\n"]);return U=function(){return e},e}function ee(){let e=(0,a.Z)(["\ncolor: black;\nmargin-top: 0px !important;\nborder: 1px solid #cccccc55 !important;\nbackground-color: white !important;\nwhite-space: pre-wrap !important;\n"]);return ee=function(){return e},e}function et(){let e=(0,a.Z)(["\n  mutation($lang: String, $meta: String, $source: String){\n    executeCodes(lang: $lang, meta: $meta, source: $source) {\n      codes {\n        lang\n        meta\n        source\n      }\n      status\n      result\n    }\n  }\n"]);return et=function(){return e},e}let er="\\```",ea=e=>{let t=(0,s.useRef)(null);return(0,s.useEffect)(()=>{t&&t.current&&(t.current.style.height="auto",t.current.style.height=t.current.scrollHeight+"px")},[e.value]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("textarea",{ref:t,readOnly:e.readOnly,value:e.value,onSelect:e.onSelect,className:l().dynamic([["97063cc76fbfa0e7",[e.error?"red":"black"]]])}),(0,n.jsx)(l(),{id:"97063cc76fbfa0e7",dynamic:[e.error?"red":"black"],children:"textarea.__jsx-style-dynamic-selector{border:none;outline:none;width:100%;height:100px;line-height:1.5;background-color:transparent;color:".concat(e.error?"red":"black",";-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}textarea.__jsx-style-dynamic-selector:focus{outline:none}")})]})},en={name:"dracula",dark:!0,background:"#282A36",foreground:"#F8F8F2",selection:"#ef4146",selectionMatch:"#ef414644",cursor:"#F8F8F2",dropdownBackground:"#282A36",dropdownBorder:"#191A21",activeLine:"#44475A00",matchingBracket:"#ef4146",keyword:"#FF79C6",storage:"#FF79C6",variable:"#F8F8F2",parameter:"#F8F8F2",function:"#50FA7B",string:"#F1FA8C",constant:"#BD93F9",type:"#8BE9FD",class:"#8BE9FD",number:"#BD93F9",comment:"#909cc3",heading:"#BD93F9",invalid:"#FF5555",regexp:"#F1FA8C"},eo=d.tk.theme({"&":{color:en.foreground,backgroundColor:en.background},".cm-content":{caretColor:en.cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:en.cursor},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:en.selection+" !important"},".cm-panels":{backgroundColor:en.dropdownBackground,color:en.foreground},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:en.dropdownBackground,outline:"1px solid ".concat(en.dropdownBorder)},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:en.selectionMatch},".cm-activeLine":{backgroundColor:en.activeLine,border:"1px dotted #44475A"},".cm-selectionMatch":{backgroundColor:en.selectionMatch},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:en.matchingBracket,outline:"none"},".cm-gutters":{backgroundColor:en.background,color:en.foreground,border:"none"},".cm-activeLineGutter":{backgroundColor:en.background},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:en.foreground},".cm-tooltip":{border:"1px solid ".concat(en.dropdownBorder),backgroundColor:en.dropdownBackground,color:en.foreground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:en.foreground,borderBottomColor:en.foreground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{background:en.selection,color:en.foreground}}},{dark:en.dark}),el=b.Qf.define([{tag:O.pJ.keyword,color:en.keyword},{tag:[O.pJ.name,O.pJ.deleted,O.pJ.character,O.pJ.macroName],color:en.variable},{tag:[O.pJ.propertyName],color:en.function},{tag:[O.pJ.processingInstruction,O.pJ.string,O.pJ.inserted,O.pJ.special(O.pJ.string)],color:en.string},{tag:[O.pJ.function(O.pJ.variableName),O.pJ.labelName],color:en.function},{tag:[O.pJ.color,O.pJ.constant(O.pJ.name),O.pJ.standard(O.pJ.name)],color:en.constant},{tag:[O.pJ.definition(O.pJ.name),O.pJ.separator],color:en.variable},{tag:[O.pJ.className],color:en.class},{tag:[O.pJ.number,O.pJ.changed,O.pJ.annotation,O.pJ.modifier,O.pJ.self,O.pJ.namespace],color:en.number},{tag:[O.pJ.typeName],color:en.type,fontStyle:en.type},{tag:[O.pJ.operator,O.pJ.operatorKeyword],color:en.keyword},{tag:[O.pJ.url,O.pJ.escape,O.pJ.regexp,O.pJ.link],color:en.regexp},{tag:[O.pJ.meta,O.pJ.comment],color:en.comment},{tag:O.pJ.strong,fontWeight:"bold"},{tag:O.pJ.emphasis,fontStyle:"italic"},{tag:O.pJ.link,textDecoration:"underline"},{tag:O.pJ.heading,fontWeight:"bold",color:en.heading},{tag:[O.pJ.atom,O.pJ.bool,O.pJ.special(O.pJ.variableName)],color:en.variable},{tag:O.pJ.invalid,color:en.invalid},{tag:O.pJ.strikethrough,textDecoration:"line-through"}]),es=[eo,(0,b.nF)(el)],ec=w.ZP.div(U()),ei=w.ZP.pre(ee());String.prototype.indexOfRegex=function(e){let t=this.match(e);return[t?this.indexOf(t[0]):-1,t?t[0]:null]};let ed=e=>{var t,r,a,o,w;let[O,I]=(0,s.useState)(),M=(0,T.v9)(e=>e.user.user),H=(0,T.v9)(e=>e.apiServerToken.apiServerToken),$=(0,s.useRef)(null);(0,s.useRef)(null);let _=(0,s.useRef)(null),q=(0,s.useRef)(null),W=(0,s.useRef)(null),Q=(0,s.useRef)(null),Y=(0,s.useRef)(null),G=(0,s.useRef)(!1),V=(0,s.useRef)(!1),[U,ee]=(0,s.useState)(!1),[en,eo]=(0,s.useState)(null),[el,ed]=(0,s.useState)(""),[eu,em]=(0,s.useState)(""),[ep,ef]=(0,s.useState)(!1),[eg,eh]=(0,s.useState)(e.codes),[eb,ex]=(0,s.useState)(e.lang),[ev,ek]=(0,s.useState)(null!==(t=e.showRun)&&void 0!==t&&t),[ey,ew]=(0,s.useState)(!1),[ej,eC]=(0,s.useState)(!0),[eS,eJ]=(0,s.useState)(!1),[eN,eO]=(0,s.useState)(!1),[eF,eI]=(0,s.useState)([]),[eE,eL]=(0,s.useState)(""),[eB,eZ]=(0,s.useState)(""),eD=(0,s.useRef)(!1),eR=(0,s.useRef)(!1),{t:eP}=(0,F.$G)("common"),eA={};try{eA=E().parse(e.meta)}catch(eT){S.Z.error(eT.message)}eA.api||(eA.api="code");let ez=null,eM=!0,eH=new K.Xo,e$=[c.Xy,d.tk.lineWrapping,(0,d.HQ)(),(0,d.HQ)(),(0,d.AE)(),(0,u.m8)(),(0,b.mi)(),(0,d.qr)(),(0,b.nY)(),(0,b.nF)(b.R_,{fallback:!0}),(0,b.n$)(),(0,x.vQ)(),(0,x.ys)(),(0,d.Zs)(),(0,d.S2)(),(0,y.sW)(),i.yy.allowMultipleSelections.of(!1),d.$f.of([u.oc]),d.tk.updateListener.of(t=>{let r=t.state.doc;t.docChanged&&e.onDocChanged&&eH.onHandle(()=>{var t;null===(t=e.onDocChanged)||void 0===t||t.call(null,r.toString())},350),t.state.selection.main.to-t.state.selection.main.from>0?!1===V.current&&(V.current=!0,eJ(()=>!0)):!0===V.current&&(V.current=!1,eJ(()=>!1))})];switch(eb){case"javascript":case"typescript":case"java":case"c":case"cpp":case"c++":case"objc":case"objective-c":case"go":case"dart":case"flutter":case"react":case"html":case"tsx":case"rn":case"any":e$.push((0,d.Eu)()),e$.push((0,h.C)());break;case"python":e$.push((0,d.Eu)()),e$.push((0,m.Vs)());break;case"markdown":e$.push((0,g.JH)()),eM=!1;break;case"php":e$.push((0,d.Eu)()),e$.push((0,p.h)({plain:!0!==eA.rawCode}));break;case"kotlin":e$=[...e$,(0,d.Eu)(),b.il.define(v.j7)];break;case"swift":e$=[...e$,(0,d.Eu)(),b.il.define(k.v)];break;case"json":e$.push((0,d.Eu)()),e$.push((0,f.AV)()),eM=!1;break;default:e$.push((0,d.Eu)()),e$.push((0,h.C)()),eM=!1}e$.push(es),(e.noActions||"none"==eA.action)&&(eM=!1),eA.action||(eA.action="run"),(e.readOnly||eA.readOnly)&&e$.push(d.tk.editable.of(!1));let e_=i.yy.create({doc:eg,extensions:e$}),eq=(0,s.useRef)(null),eW=(0,s.useRef)(0);(0,s.useEffect)(()=>{(eA.optional||!eM)&&e.callback&&e.index&&!eD.current&&(eD.current=!0,e.callback(e.index,1))},[]),(0,s.useEffect)(()=>{if("flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb){if(null==Y.current)return;let t=e=>{let t=e.data;t.sender&&"frame"==t.sender&&t.frameId=="iframe_".concat(eW.current)&&("fetch"==t.type&&t.code?eY(t.code):"edit"==t.type?(t.output?eL("/* TODO:\nPlease check the code below, as I have got an error when running it: \n".concat(t.output,"\n*/\n\n").concat(t.code)):eL(t.code),eO(!0)):"assistant"==t.type?(t.output&&eZ(t.output),eL(t.code),ew(!ey)):"ready"==t.type&&(eR.current||setTimeout(()=>{eR.current=!0},1e3),setTimeout(()=>{var e,t;null===(e=Y.current.querySelector("iframe"))||void 0===e||null===(t=e.contentWindow)||void 0===t||t.postMessage({sourceCode:{"main.dart":eg,"test.dart":"",scroll:"true"},autoRun:!1,type:"sourceCode",analyze:!1},"*")},150)))};window.addEventListener("message",t);let r=setTimeout(()=>{var e,t,r;null===(e=null===(t=Y.current)||void 0===t?void 0:t.querySelector("iframe"))||void 0===e||null===(r=e.contentWindow)||void 0===r||r.postMessage({type:"mode",lang:eb},"*")},200),a=setTimeout(()=>{var e,t,r;null===(e=null===(t=Y.current)||void 0===t?void 0:t.querySelector("iframe"))||void 0===e||null===(r=e.contentWindow)||void 0===r||r.postMessage({type:"mode",lang:eb},"*")},3e3);if(G.current&&!0!==e.reload)return;if(G.current=!0,eR.current&&!0==e.reload){if("flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb){var n,o;if(null==Y.current)return;null===(n=Y.current.querySelector("iframe"))||void 0===n||null===(o=n.contentWindow)||void 0===o||o.postMessage({sourceCode:{"main.dart":eg,"test.dart":"",scroll:"true"},autoRun:!1,type:"sourceCode",analyze:!1},"*")}return}let l=document.getElementById("dartpadLoader");eW.current=Math.floor(1e4*Math.random()+1);let s=0;return location.href.indexOf("embedded-vscode-extension")>0&&location.href.indexOf("version=")>0&&(s=1),Y.current.innerHTML='<pre>\n      <code class="language-run-dartpad:theme-dark:mode-flutter:null_safety-true:split-60:width-100%:height-620px:id-iframe_'.concat(eW.current,":vscode-").concat(s,'">\n      <!--#!#').concat(e.codes,"#!#-->\n      </code>\n      </pre>"),l&&l.parentNode&&l.parentNode.removeChild(l),(l=document.createElement("script")).src="/code-pad/inject_embed.dart.js",l.id="dartpadLoader",l.async=!0,document.body.appendChild(l),()=>{var e;clearTimeout(r),clearTimeout(a),window.removeEventListener("message",t),null==eq||null===(e=eq.current)||void 0===e||e.destroy()}}if(null!=_&&null!=_.current)return eq.current=new d.tk({state:e_,parent:_.current}),eA.minHeight&&(_.current.querySelector(".cm-editor").style.minHeight=eA.minHeight),eo(eq.current),()=>{var e;null==eq||null===(e=eq.current)||void 0===e||e.destroy()}},[eb,e.reload]),(0,s.useEffect)(()=>{if("flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb){var t,r;if(null==Y.current)return;null===(t=Y.current.querySelector("iframe"))||void 0===t||null===(r=t.contentWindow)||void 0===r||r.postMessage({sourceCode:{"main.dart":eg,"test.dart":"",scroll:"true"},autoRun:!1,type:"sourceCode",analyze:!1},"*");return}if(null==en)return;let a=null==en?void 0:en.state.update({changes:{from:0,to:null==en?void 0:en.state.doc.length,insert:eg},selection:{anchor:eg.length,head:eg.length},scrollIntoView:!0});null==en||en.dispatch(a||{changes:{from:0,insert:"0"}})},[eg]),(0,s.useEffect)(()=>{ex(e.lang)},[e.lang]),(0,s.useEffect)(()=>{let e=eX();eh(e)},[e.codes]),(0,s.useEffect)(()=>{"run"===eA.action&&ek(!0)},[eA.action]);let eQ=(0,C.P)(et()),eY=async t=>{var r,a,o,l,s,c,i,d,u,m,p;let f;if(t.preventDefault?t.preventDefault():f=t,void 0==f){if("flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb){null===(o=null==Y?void 0:null===(l=Y.current)||void 0===l?void 0:l.querySelector("iframe"))||void 0===o||null===(s=o.contentWindow)||void 0===s||s.postMessage({type:"fetch",action:"complete"},"*");return}f=null==eq?void 0:eq.current.state.doc.toString()}if(!(f.length<2)){if("json"==eb)try{JSON.parse(f)}catch(g){ed(JSON.stringify(g.message));return}if(q.current&&!q.current.classList.contains("hidden"))return;null===(r=q.current)||void 0===r||r.classList.remove("hidden"),ed(""),em("");try{if("code"==eA.api){let h=!1,b="",x=f,v="flutter"==e.lang||"flutter"==eb?"dart":eb;("react"==e.lang||"react"==eb)&&(v="typescript");let k=x.toLowerCase();if(k.indexOf("dart lang")>-1?v="dart":k.indexOf("kotlin lang")>-1?v="kotlin":k.indexOf("swift lang")>-1?v="swift":k.indexOf("java lang")>-1?v="java":k.indexOf("python lang")>-1?v="python":k.indexOf("php lang")>-1?v="php":k.indexOf("javascript lang")>-1?v="javascript":k.indexOf("typescript lang")>-1?v="typescript":k.indexOf("objective-c lang")>-1?v="objective-c":k.indexOf("objc lang")>-1?v="objective-c":k.indexOf("c lang")>-1?v="c":k.indexOf("c++ lang")>-1?v="c++":k.indexOf("go lang")>-1&&(v="go"),!v||"any"==v){ed("Please specify the language in your code's comment, e.g. 'java', 'kotlin', 'dart', 'swift', 'python', 'php', 'javascript', 'typescript"),null===(u=q.current)||void 0===u||u.classList.add("hidden");return}O&&eA.testcase&&!0===eA.testcase&&(eA.testcase_code=O),eA.detail&&eA.aiCheck&&!0===eA.aiCheck&&(eA.aiCheck_detail=eA.detail);let y=await fetch("https://www.juniorit.ai/rest/code_v1",{method:"POST",headers:(0,z.wi)((0,z.VA)(M.id,H)),body:JSON.stringify({lang:v,snippet:!1,extraInfo:null===(c=Q.current)||void 0===c?void 0:c.value,meta:JSON.stringify(eA),message:x,taskId:e.taskId,onlineCourseSessionId:e.onlineCourseSessionId})});null===(i=e.onSubmit)||void 0===i||i.call(null);let w=y.body.getReader(),j=0,C="markdown",S="",N="",F=(0,n.jsx)(J.D,{children:N},j);for(eI(e=>[F]);;){let{value:I,done:E}=await w.read();if(E)break;h||(ed(""),eI([]),eC(!1),h=!0);let L=new TextDecoder("utf-8").decode(I);if("[-DONE-]"==L);else if("[-ERROR-]"==L)ed("Error-1!");else if("[-LIMIT-]"==L)ed("Daily limit is reached!");else for(b+=L;;){if("markdown"==C){let B=b.indexOfRegex(/```[a-z\+\-]*\n/);if(b.length>15&&-1==B[0]){N+=b.substring(0,b.length-15),b=b.substring(b.length-15);let Z=j,D=(0,n.jsx)(J.D,{children:N},j);eI(e=>[...e=e.filter(e=>e.key!=Z),D]);break}if(B[0]>=0){if(B[0]>0){N+=b.substring(0,B[0]);let R=j,P=(0,n.jsx)(J.D,{children:N},j);eI(e=>[...e=e.filter(e=>e.key!=R),P])}j++,N="",S=B[1].trim().replace("```",""),C="code",eh(N),ex(S),b=b.substring(B[0]+B[1].length);continue}break}{let A=b.indexOfRegex(/```/);if(b.length>=3&&-1==A[0]){N+=b.substring(0,b.length-3),b=b.substring(b.length-3),N.includes("package:flutter/")&&"flutter"!=S?(S="flutter",ex(S)):N.match(/from\s+('|")react('|")/)&&"react"!=S&&(S="react",ex(S)),eh(N);break}if(A[0]>=0){A[0]>0&&(N+=b.substring(0,A[0]),eh(N)),N.includes("package:flutter/"),j++,N="";let T=(0,n.jsx)(J.D,{children:N},j);C="markdown",eI(e=>[...e,T]),b=b.substring(A[0]+A[1].length);continue}break}}}if(b.length>0){if("markdown"==C){N+=b;let $=j,_=(0,n.jsx)(J.D,{children:N},j);eI(e=>[...e=e.filter(e=>e.key!=$),_])}else N+=b,eh(N)}if(null===(d=q.current)||void 0===d||d.classList.add("hidden"),eC(!0),ek(!0),e.callback){if(eD.current)return;eD.current=!0,e.callback(null!==(m=e.index)&&void 0!==m?m:0,1)}}}catch(W){null!=ez&&(clearTimeout(ez),ez=null),console.log(W),ed("Error-3!"),null===(p=e.onError)||void 0===p||p.call(null)}null===(a=q.current)||void 0===a||a.classList.add("hidden")}},eG=async t=>{var r,a,n,o,l,s,c,i,d,u;let m;if(t.preventDefault?t.preventDefault():m=t,void 0==m){if("flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb){null===(n=null==Y?void 0:null===(o=Y.current)||void 0===o?void 0:o.querySelector("iframe"))||void 0===n||null===(l=n.contentWindow)||void 0===l||l.postMessage({type:"fetch",action:"complete"},"*");return}m=null==eq?void 0:eq.current.state.doc.toString().trim()}if(!(m.length<2)){if(ed(""),em(""),"json"==eb)try{JSON.parse(m)}catch(p){em(JSON.stringify(p.message)),ef(!0);return}if(W.current&&!W.current.classList.contains("hidden"))return;null===(r=W.current)||void 0===r||r.classList.remove("hidden");try{let f;if(O&&eA.testcase&&!0===eA.testcase&&(eA.testcase_code=O),eA.detail&&eA.aiCheck&&!0===eA.aiCheck&&(eA.aiCheck_detail=eA.detail),"kotlin"!=eb)f=await (0,j.Z)({method:"POST",url:"https://www.juniorit.ai/graphql",headers:(0,z.Pg)(M.id,H),data:{query:eQ,variables:{lang:eb,meta:JSON.stringify(eA),source:m},taskId:e.taskId,onlineCourseSessionId:e.onlineCourseSessionId}});else{let g=m;eA.rawCode||g.match(/fun\s+main\s*\(/)||(g="fun main() {\n                  ".concat(g,"\n            }")),f=(f=await (0,j.Z)({method:"POST",timeout:9e3,url:"https://api.kotlinlang.org//api/1.8.10/compiler/run",data:{args:"",files:[{name:"File.kt",text:g}]}})).data.text.length>0?{data:{data:{executeCodes:{status:1,result:f.data.text.replace("<outStream>","").replace("</outStream>","")}}}}:f.data.errors&&f.data.errors["File.kt"]&&f.data.errors["File.kt"][0].message&&f.data.errors["File.kt"][0].message.length>0?{data:{data:{executeCodes:{status:0,result:f.data.errors["File.kt"][0].message}}}}:{data:{data:{executeCodes:{status:0,result:"Error-4!"}}}}}let h=f.data;h.error?(S.Z.error(h.error.errors),ed("Error-2!"),S.Z.error(h.error.errors),null===(s=e.onError)||void 0===s||s.call(null)):(ed(""),null===(c=e.onSubmit)||void 0===c||c.call(null),em(h.data.executeCodes.result),1==h.data.executeCodes.status?ef(!1):(ef(!0),null===(i=e.onError)||void 0===i||i.call(null)))}catch(b){null!=ez&&(clearTimeout(ez),ez=null),console.log(b),ed("Error-3!"),null===(d=e.onError)||void 0===d||d.call(null)}if(null===(a=W.current)||void 0===a||a.classList.add("hidden"),e.callback){if(eD.current)return;eD.current=!0,e.callback(null!==(u=e.index)&&void 0!==u?u:0,1)}}},eV=()=>{var t;if(q.current&&!q.current.classList.contains("hidden")||W.current&&!W.current.classList.contains("hidden"))return;let r=null==en?void 0:en.state.update({changes:{from:0,to:null==en?void 0:en.state.doc.length,insert:e.codes}});null==en||en.dispatch(r||{changes:{from:0,insert:"0"}}),ed(""),em(""),null===(t=e.onReset)||void 0===t||t.call(null)},eX=()=>{let t=e.codes.lastIndexOf(er);if(-1===t)return e.codes;let r=e.codes.lastIndexOf(er,t-4),a=e.codes.substring(r-1,t+4);return I(a),e.codes.replaceAll(a,"")};return(0,n.jsxs)(n.Fragment,{children:[(eA.caption||eA.detail)&&(0,n.jsxs)("div",{children:[eA.caption&&(0,n.jsx)("h4",{children:eA.caption}),eA.detail&&(0,n.jsx)("h5",{className:"whitespace-pre",children:eA.detail})]}),(0,n.jsxs)("div",{ref:$,className:"jsx-8ba96647af88c2d3 code-block mb-6 relative",children:["flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb?(0,n.jsx)("div",{ref:Y,className:"jsx-8ba96647af88c2d3 dart-pad-panel"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:async()=>{let e=document.createElement("textarea");e.value=null==eq?void 0:eq.current.state.doc.toString(),document.body.append(e),e.select(),document.execCommand("copy"),e.remove()},style:{position:"absolute",cursor:"pointer",width:24,height:24,top:5,right:5,color:"white",zIndex:9},className:"jsx-8ba96647af88c2d3 copy-code-wrap",children:(0,n.jsx)("img",{src:"/img/copy.png",className:"jsx-8ba96647af88c2d3 copy-code"})}),(0,n.jsx)("div",{ref:_,style:{minHeight:null!==(r=eA.minHeight)&&void 0!==r?r:"90px",maxHeight:null!==(a=eA.maxHeight)&&void 0!==a?a:"50vh",overflow:"auto"},className:"jsx-8ba96647af88c2d3 border-2"})]}),(0,n.jsx)("textarea",{ref:Q,style:{boxSizing:"border-box",width:"calc(100% - 4px)",margin:"4px 2px"},placeholder:"You have the option to submit additional documentation or sample code that can assist AI in completing your code or fixing any errors more effectively. Please provide them here.",className:"jsx-8ba96647af88c2d3 hidden"}),eM?(0,n.jsxs)("div",{className:"jsx-8ba96647af88c2d3 flex justify-end items-center px-1 mt-2 mb-2 gap-2",children:["run"!=eA.action&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer inline select-none mx-2",onClick:()=>{var e;null===(e=Q.current)||void 0===e||e.classList.toggle("hidden")}}),(0,n.jsxs)("button",{onClick:eY,className:"jsx-8ba96647af88c2d3 "+"w-auto rounded h-10 font-medium flex flex-row items-center gap-2 px-4 ".concat(ev?"w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50":"border-primary-blue text-white bg-primary-blue hover:opacity-80"),children:[(0,n.jsx)("span",{className:"jsx-8ba96647af88c2d3 whitespace-nowrap",children:eA.button?eA.button:eP("complete"==eA.action?"complete-for-me":"fix-error-for-me")}),(0,n.jsx)("div",{ref:q,className:"jsx-8ba96647af88c2d3 loader hidden w-5 h-5"})]})]}),!ev||["flutter","react","html","tsx","rn"].includes(eb)||["flutter","react","html","tsx","rn"].includes(e.lang)?null:(0,n.jsxs)("button",{onClick:eG,className:"jsx-8ba96647af88c2d3 w-auto rounded h-10 border-primary-blue text-white font-medium bg-primary-blue hover:opacity-80 flex flex-row items-center gap-2 px-4",children:[(0,n.jsx)("span",{className:"jsx-8ba96647af88c2d3",children:"run"!=eA.action?null!==(o=eA.runButton)&&void 0!==o?o:eP("run-button"):null!==(w=eA.button)&&void 0!==w?w:eP("run-button")}),(0,n.jsx)("div",{ref:W,className:"jsx-8ba96647af88c2d3 loader hidden w-5 h-5"})]}),e.readOnly||eA.readOnly||"flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb?null:(0,n.jsx)("button",{style:{color:"black"},onClick:eV,className:"jsx-8ba96647af88c2d3 w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50",children:eP("chat"!=eA.api||eA.reset?"reset":"clear")}),(0,n.jsx)("button",{onClick:()=>{var e,t;!U&&document.getElementsByTagName("body")[0].classList.contains("code-block-full")||(document.getElementsByTagName("body")[0].classList.toggle("code-block-full"),null===(e=$.current)||void 0===e||e.classList.toggle("full"),Y.current&&Y.current.querySelector("iframe")&&(Y.current.querySelector("iframe").style.height=U?"620px":"80vh"),U?null===(t=$.current)||void 0===t||t.scrollIntoView():window.scrollTo(0,0),ee(!U))},className:"jsx-8ba96647af88c2d3 w-auto px-4 rounded h-10 border border-gray-400 text-black font-medium bg-secondary-white hover:bg-gray-50",children:U?(0,n.jsx)(Z.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer"}):(0,n.jsx)(D.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer"})}),"chat"==eA.from||eS?(0,n.jsx)(R.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer inline select-none mx-2",onClick:()=>{let e=null==en?void 0:en.state.doc.lineAt(null==en?void 0:en.state.selection.main.from),t=null==en?void 0:en.state.doc.lineAt(null==en?void 0:en.state.selection.main.to);eL((null==en?void 0:en.state.doc.sliceString(e.from,t.to))||""),eZ(""),ew(!ey)}}):null,eS&&(0,n.jsx)(P.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer",onClick:()=>{let e=null==en?void 0:en.state.doc.lineAt(null==en?void 0:en.state.selection.main.from),t=null==en?void 0:en.state.doc.lineAt(null==en?void 0:en.state.selection.main.to);eL((null==en?void 0:en.state.doc.sliceString(e.from,t.to))||""),eO(!0)}})]}):null,el&&(0,n.jsxs)(ec,{children:[eP("output"),":",ej?(0,n.jsx)("div",{style:{backgroundColor:"white",border:"1px solid #cccccc55",padding:10},className:"jsx-8ba96647af88c2d3",children:(0,n.jsx)(N.Z,{markdown:el,lang:eA.topic,meta:'{"from":"chat"}'})}):(0,n.jsx)(ei,{children:el})]}),eu&&(0,n.jsxs)(ec,{children:["Output: ",eB&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer inline mx-3 select-none",onClick:()=>{null==en||en.dispatch({selection:{anchor:0,head:0}}),"python"==e.lang&&"python"==eb?eL("'''\nPlease check the code below, as I have got an error when running it: \n".concat(eB,"\n'''\n\n").concat(null==eq?void 0:eq.current.state.doc.toString().trim())):eL("/* TODO:\nPlease check the code below, as I have got an error when running it: \n".concat(eB,"\n*/\n\n").concat(null==eq?void 0:eq.current.state.doc.toString().trim())),eO(!0)}}),(0,n.jsx)(R.Z,{className:"w-6 h-6 text-primary-blue hover:opacity-80 cursor-pointer inline select-none",onClick:()=>{eL(""),ew(!ey)}})]}),(0,n.jsx)(ea,{readOnly:!0,value:eu,error:ep,onSelect:e=>{let t=e.currentTarget.value.substring(e.currentTarget.selectionStart,e.currentTarget.selectionEnd);t.length>0?eZ(t):eZ("")}})]}),ey?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"jsx-8ba96647af88c2d3",children:[(0,n.jsxs)("b",{className:"jsx-8ba96647af88c2d3",children:[eP("question"),":"]})," "]}),(0,n.jsx)("div",{className:"jsx-8ba96647af88c2d3 w-full",children:(0,n.jsx)(L.Z,{codes:"Can you ".concat(eB?"check":"explain"," the code below? ").concat(eB?"As I have got: ".concat(eB,"."):"As I can not understand it."," \n\n").concat("flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb?eE:0==eE.length?null==eq?void 0:eq.current.state.doc.toString():eE),lang:e.lang,meta:"{type:chat, action: code, button: 'Ask AI', reset: true, audio: false}"})})]}):null,(0,n.jsx)("div",{className:"jsx-8ba96647af88c2d3",children:eF}),(0,n.jsx)(A.Z,{title:"Code Assistant",toolbar:!1,isOpen:eN,onClose:()=>eO(!1),children:(0,n.jsx)(X,{codes:eE,source:eg,lang:"flutter"==e.lang||"flutter"==eb?"dart":"react"==e.lang||"react"==eb?"react":eb,meta:"{}",cancelCallback:()=>{eO(!1)},saveCallback:t=>{if("flutter"==e.lang||"flutter"==eb||"react"==e.lang||"react"==eb){var r,a,n;null===(r=null==Y?void 0:null===(a=Y.current)||void 0===a?void 0:a.querySelector("iframe"))||void 0===r||null===(n=r.contentWindow)||void 0===n||n.postMessage({type:"assistant",action:"complete",code:t},"*")}else if(null!=en){let o=null==en?void 0:en.state.doc.lineAt(null==en?void 0:en.state.selection.main.from),l=null==en?void 0:en.state.doc.lineAt(null==en?void 0:en.state.selection.main.to),s=null==en?void 0:en.state.update({changes:{from:o.from,to:(null==en?void 0:en.state.selection.main.from)==0&&(null==en?void 0:en.state.selection.main.to)==0?null==en?void 0:en.state.doc.length:l.to,insert:t}});en.dispatch(s)}else console.log("editView is null");eO(!1)}})}),(0,n.jsx)(l(),{id:"8ba96647af88c2d3",children:".code-block.jsx-8ba96647af88c2d3{background-color:white}.copy-code.jsx-8ba96647af88c2d3{width:24px;height:24px;margin:0px!important}.copy-code-wrap.jsx-8ba96647af88c2d3:active .copy-code.jsx-8ba96647af88c2d3{-webkit-transform:translate(0,0)scale(.9);-moz-transform:translate(0,0)scale(.9);-ms-transform:translate(0,0)scale(.9);-o-transform:translate(0,0)scale(.9);transform:translate(0,0)scale(.9)}.full.jsx-8ba96647af88c2d3{position:fixed;top:0px;left:0px;width:100%;height:100%;padding:20px;z-index:100000}.loader.jsx-8ba96647af88c2d3{border:3px solid#f3f3f3;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;border-top:3px solid#3498db;width:20px;height:20px;-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-o-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})]})};var eu=(0,s.memo)(ed)},74730:function(e,t,r){var a=r(85893),n=r(67294),o=r(63069),l=r(1272),s=r(39332),c=r(6154);let i=e=>{let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:(e=>{let t=[],r=!1;return e.split("`").forEach((e,n)=>{if(0===n&&""===e){r=!0;return}r?t.push((0,a.jsx)("code",{children:"".concat(e)},n)):t.push(e),r=!r}),t})(t)})},d=e=>{let[t,r]=(0,n.useState)({}),[d,u]=(0,n.useState)(!1),m=l.ZP.load(e.yml),p=(0,s.useSearchParams)(),f=p.get("t"),g=(0,n.useRef)(!1);(0,n.useEffect)(()=>{e.lastStep&&e.index&&e.lastStep>e.index&&u(!0)},[]);let h=(e,t)=>{let r=e.indexOf(t);return r>-1&&e.splice(r,1),e};return(0,a.jsxs)("form",{className:"flex flex-col gap-4 mt-4 mb-4",onSubmit:async a=>{a.preventDefault();let n=!0;for(let o of(r({}),u(!1),m))switch(console.log(o.name),t[o.name]="Pleae finish the test.",o.type){case"checkbox":{let l=!1,s=!1,i=o.value;for(var d,p,b,x,v=document.getElementsByName(o.name+"[]"),k=v.length,y=0;y<k;y++)if(v[y].checked){if(l=!0,i.indexOf(y)>-1)i=h(i,y);else{s=!0;break}}l?i.length>0||s?(t[o.name]="Please check your selection!",n=!1):t[o.name]="":(t[o.name]="Your answer is required!",n=!1)}break;case"radio":{let w=o.value,j=document.getElementsByName(o.name),C=j.length;t[o.name]="Please check your selection!";for(let S=0;S<C;S++)if(j[S].checked&&w==S){t[o.name]="";break}""!=t[o.name]&&(n=!1)}break;case"select":{let J=o.value,N=document.getElementById(o.name);t[o.name]="Please check your selection!",J==(null==N?void 0:N.selectedIndex)-1?t[o.name]="":(null==N?void 0:N.selectedIndex)==0&&(t[o.name]="Your answer is required!",n=!1),""!=t[o.name]&&(n=!1)}break;default:o.value.toLowerCase().trim()==(null===(b=document.getElementById(o.name))||void 0===b?void 0:b.value.toLowerCase().trim())?t[o.name]="":(null===(x=document.getElementById(o.name))||void 0===x?void 0:x.value.trim())==""?(n=!1,t[o.name]="Your answer is required!"):(n=!1,t[o.name]="Please check your answer!")}if(r({...t}),n){if(u(!0),f){let O=null;m[0]&&(O=m[0].name),(0,c.Z)({method:"post",url:"https://www.juniorit.ai/rest/assignment-activity",headers:{"Content-Type":"application/json"},data:{assignment_token:f,action:"test",ref:O}}).catch(e=>console.log(e))}if(!e.callback||g.current)return;g.current=!0,e.callback(null!==(d=e.index)&&void 0!==d?d:0,1)}else{if(!e.callback)return;e.callback(null!==(p=e.index)&&void 0!==p?p:0,0)}},children:[m.map((n,l)=>{switch(n.type){case"text":return(0,a.jsxs)("div",{children:[n.markdown?(0,a.jsx)(o.Z,{noActions:!0,readOnly:!0,markdown:n.markdown}):null,(0,a.jsx)("label",{htmlFor:n.name,className:"block text-base font-bold leading-6 text-gray-900",children:n.label}),(0,a.jsx)("input",{className:"mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-base sm:leading-6",type:"text",onChange:e=>{r({})},id:n.name,name:n.name,placeholder:n.placeholder}),t[n.name]?(0,a.jsx)("div",{className:"block text-base font-normal leading-6 text-red mt-2",children:t[n.name]}):null]},l);case"textarea":return(0,a.jsxs)("div",{children:[n.markdown?(0,a.jsx)(o.Z,{noActions:!0,readOnly:!0,markdown:n.markdown}):null,(0,a.jsx)("label",{htmlFor:n.name,className:"block text-base font-bold leading-6 text-gray-900",children:n.label}),(0,a.jsx)("textarea",{id:n.name,name:n.name,rows:n.rows,placeholder:n.placeholder,onChange:e=>{r({})},className:"mt-1 block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:py-1.5 sm:text-base sm:leading-6"}),t[n.name]?(0,a.jsx)("div",{className:"block text-base font-normal leading-6 text-red mt-2",children:t[n.name]}):null]},l);case"select":return(0,a.jsxs)("div",{children:[n.markdown?(0,a.jsx)(o.Z,{noActions:!0,readOnly:!0,markdown:n.markdown}):null,(0,a.jsx)("label",{htmlFor:n.name,className:"block text-base font-bold leading-6 text-gray-900",children:n.label}),(0,a.jsxs)("select",{id:n.name,name:n.name,className:"mt-2 block w-full rounded-md border-0 bg-white py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-base sm:leading-6",onChange:e=>{r({})},children:[(0,a.jsx)("option",{children:"Select"}),n.options.map((t,r)=>(0,a.jsx)("option",{children:"".concat(e.order?"".concat(r+1,". "):"").concat(t)},r))]}),t[n.name]?(0,a.jsx)("div",{className:"block text-base font-normal leading-6 text-red mt-2",children:t[n.name]}):null]},l);case"checkbox":return(0,a.jsxs)("div",{children:[n.markdown?(0,a.jsx)(o.Z,{noActions:!0,readOnly:!0,markdown:n.markdown}):null,(0,a.jsx)("label",{htmlFor:n.name,className:"block text-base font-bold leading-6 text-gray-900",children:n.label}),(0,a.jsx)("div",{className:"flex ".concat(e.row?"flex-row gap-8":"flex-col gap-2"," mt-2"),children:n.options.map((t,o)=>(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("input",{className:"h-4 w-4 mt-1 border-black-300 text-indigo-600 focus:ring-indigo-600",type:"checkbox",name:n.name+"[]",id:n.name+o,value:t,onChange:e=>{r({})}},o),(0,a.jsx)("label",{htmlFor:n.name+o,className:"ml-3 block text-base font-normal leading-6 text-gray-900",children:(0,a.jsx)(i,{children:"".concat(e.order?"".concat(o+1,". "):"").concat(t)})})]},n.name+o))}),t[n.name]?(0,a.jsx)("div",{className:"block text-base font-normal leading-6 text-red mt-2",children:t[n.name]}):null]},l);case"radio":return(0,a.jsxs)("div",{children:[n.markdown?(0,a.jsx)(o.Z,{noActions:!0,readOnly:!0,markdown:n.markdown}):null,(0,a.jsx)("label",{htmlFor:n.name,className:"block text-base font-bold leading-6 text-gray-900",children:n.label}),(0,a.jsx)("div",{className:"flex ".concat(e.row?"flex-row gap-8":"flex-col gap-2"," mt-2"),children:n.options.map((t,o)=>(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("input",{className:"h-4 w-4 mt-1 border-black-300 text-indigo-600 focus:ring-indigo-600",type:"radio",name:n.name,id:n.name+o,value:t,onChange:e=>{r({})}},o),(0,a.jsx)("label",{htmlFor:n.name+o,className:"ml-3 block text-base font-normal leading-6 text-gray-900",children:(0,a.jsx)(i,{children:"".concat(e.order?"".concat(o+1,". "):"").concat(t)})})]},n.name+o))}),t[n.name]?(0,a.jsx)("div",{className:"block text-base font-normal leading-6 text-red mt-2",children:t[n.name]}):null]},l)}}),Object.keys(t).length>0&&!d&&e.video&&(0,a.jsx)("div",{children:(0,a.jsx)(o.Z,{markdown:"You can check this video ".concat(e.video," for answer.")})}),(0,a.jsxs)("div",{className:"flex gap-5 items-end",children:[(0,a.jsx)("input",{type:"submit",value:"Submit",disabled:d,className:"w-28 rounded h-10 border-primary-blue text-white font-medium bg-primary-blue ".concat(d&&"disabled:opacity-25")}),d?(0,a.jsx)("span",{className:"inline-block text-base font-medium leading-6 text-secondary-green ml-5",children:"Your have passed this test!"}):null,Object.keys(t).length>0&&!d&&e.refInfo&&(e.refInfo.startsWith("http")?(0,a.jsxs)("div",{children:["If you need help for this topic, please check this ",e.refInfo.includes("youtube")?"video":"url",": ",(0,a.jsx)("a",{href:e.refInfo,target:"_blank",children:"props.refInfo"})]}):"ai"==e.refInfo?"If you need help for this topic, please use the AI prompts section above.":"ask"==e.refInfo?"":e.refInfo)]}),Object.keys(t).length>0&&!d&&e.refInfo&&"ask"==e.refInfo&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:"If you need help with this topic, please ask the AI using the prompt box below::"}),(0,a.jsx)(o.Z,{markdown:"```markdown {type:chat}\n\n ```"})]})]})};t.Z=(0,n.memo)(d)},35574:function(e,t,r){var a=r(85893),n=r(67294),o=r(1272),l=r(9689),s=r.n(l),c=r(90629),i=r(91505),d=r(20382);let u=e=>{var t;let r=(0,n.useRef)(null),o=e.children.match(/#([a-z]{0,10})$/);return o?(0,a.jsxs)(a.Fragment,{children:[e.children.slice(0,-(o[1].length+1)),(0,a.jsx)(d.Z,{ref:r,className:"w-5 h-5 ml-3 hover:opacity-80 cursor-pointer inline select-none",style:{color:e.index==e.showChatIndex?"#373c93":"gray",margin:"0 0 0 10px"},onClick:()=>{e.index==e.showChatIndex?(r.current.style.color="gray",e.setShowChatIndex(null)):(r.current.style.color="#373c93",e.setShowChatIndex(e.index))}}),e.index==e.showChatIndex&&(0,a.jsx)(i.Z,{lang:null!==(t=o[1])&&void 0!==t?t:"any",meta:"{extraInfo: false}",codes:e.children.slice(0,-(o[1].length+1))})]}):(0,a.jsxs)(a.Fragment,{children:[e.children,e.meta.default&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{ref:r,className:"w-5 h-5 ml-3 hover:opacity-80 cursor-pointer inline select-none",style:{color:e.index==e.showChatIndex?"#373c93":"gray",margin:"0 0 0 10px"},onClick:()=>{e.index==e.showChatIndex?(r.current.style.color="gray",e.setShowChatIndex(null)):(r.current.style.color="#373c93",e.setShowChatIndex(e.index))}}),e.index==e.showChatIndex&&(0,a.jsx)(i.Z,{lang:"any",meta:"{extraInfo: false}",codes:e.children})]})]})},m=e=>"object"==typeof e.children?(0,a.jsxs)("li",{children:[(0,a.jsx)(u,{index:e.index+"_",meta:e.meta,showChatIndex:e.showChatIndex,setShowChatIndex:e.setShowChatIndex,children:Object.keys(e.children)[0]}),(0,a.jsx)("ul",{children:Object.values(e.children)[0].map((t,r)=>(0,a.jsx)("li",{children:(0,a.jsx)(u,{index:e.index+"_"+r,meta:e.meta,showChatIndex:e.showChatIndex,setShowChatIndex:e.setShowChatIndex,children:t})},r))})]}):(0,a.jsx)("li",{children:(0,a.jsx)(u,{index:e.index+"_",meta:e.meta,showChatIndex:e.showChatIndex,setShowChatIndex:e.setShowChatIndex,children:e.children})}),p=e=>{let t=(0,n.useRef)(!1),[r,l]=(0,n.useState)(null),i={default:!1};try{i=s().parse(e.meta)}catch(d){c.Z.error(d.message)}let u=o.ZP.load(e.yml);return(0,n.useEffect)(()=>{let r=async()=>{e.callback&&!t.current&&(t.current=!0,e.callback(e.index,1))};r()},[]),(0,a.jsx)(a.Fragment,{children:"ol"==i.tag?(0,a.jsx)("ol",{children:u.map((e,t)=>(0,a.jsx)(m,{index:t,showChatIndex:r,meta:i,setShowChatIndex:l,children:e},t))}):(0,a.jsx)("ul",{children:u.map((e,t)=>(0,a.jsx)(m,{index:t,showChatIndex:r,meta:i,setShowChatIndex:l,children:e},t))})})};t.Z=(0,n.memo)(p)},7361:function(e,t,r){function a(e){return e.raw[0]}r.d(t,{P:function(){return a}}),r(90629)}}]);